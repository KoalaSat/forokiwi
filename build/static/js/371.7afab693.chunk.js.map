{"version":3,"file":"static/js/371.7afab693.chunk.js","mappings":"ySAWA,MAAM,KAAEA,EAAI,KAAEC,GAASC,EAAAA,EAQVC,EAAoCC,IAAqC,IAApC,KAAEC,EAAI,KAAEC,EAAI,eAAEC,GAAgBH,EAC9E,MACEI,OAAO,cAAEC,EAAa,mBAAEC,EAAkB,yBAAEC,IAC1CC,EAAAA,EAAMC,YACJ,QAAEC,EAAO,SAAEC,IAAaC,EAAAA,EAAAA,YAA8BC,EAAAA,KACtD,EAAEC,IAAMC,EAAAA,EAAAA,KACRC,GAAWC,EAAAA,EAAAA,MACXC,EAAoB,CACxBC,EAAGC,GACkB,sCACDC,KAAKD,EAAME,OAC3BC,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,SAAQC,UACnBH,EAAAA,EAAAA,KAACI,EAAAA,EAAK,CACJC,IAAKR,EAAME,KACXO,SAAS,sqGAGXN,EAAAA,EAAAA,KAAC3B,EAAI,CAACkC,OAAO,SAASR,KAAMF,EAAME,KAAKI,SAAEN,EAAMM,WAErDK,IAAKX,IACIG,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,SAAQC,UAC1BH,EAAAA,EAAAA,KAACI,EAAAA,EAAK,CACJC,IAAKR,EAAMQ,IACXC,SAAS,qqGAIfG,KAAMZ,IAEFa,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,KAAM,GAAGT,SAAA,EACZH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACY,MAAO,CAAEC,gBAAiB9B,GAA4BkB,QAAQ,SAAQC,UACzEH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAM,GAAGT,UACZH,EAAAA,EAAAA,KAAC1B,EAAI,CAAA6B,SAAEZ,EAAE,mCAGbS,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,SAAQC,UACnBH,EAAAA,EAAAA,KAACe,EAAAA,EAAM,CACLF,MAAO,CACLG,WAAYlC,EACZmC,QAAS,GACTC,aAAc,GACdC,UAAW,OACXC,MAAO,KACPjB,SAEDN,EAAMM,iBAmBbkB,EAAkBC,IACtB,IAAIC,EACJ,GAAI5C,EAAM,CAAC,IAAD6C,EAAAC,EACR,MAAMC,EAA8B,QAAvBF,GAAGG,EAAAA,EAAAA,IAAaL,UAAO,IAAAE,GAAQ,QAARC,EAApBD,EAAuB,aAAK,IAAAC,OAAR,EAApBA,EAA+B,GAC/CF,EAAYnC,EAAST,GAAMiD,MAAKC,GAAKA,EAAEC,KAAOJ,GAChD,CACA,OACE1B,EAAAA,EAAAA,KAACe,EAAAA,EAAM,CAACF,MAAO,CAAEG,WAAYlC,EAAemC,QAAS,GAAIC,aAAc,GAAIa,gBAAiBhD,EAAoBiD,gBAAiB,EAAGC,gBAAiB,SAAU9B,UAC7JH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAAAE,UACFH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAAAR,UACFH,EAAAA,EAAAA,KAACkC,EAAAA,EAAQ,CAACC,QAAM,EAACC,SAAUb,EAAUpB,SAClCoB,SAIA,EA6BPc,EAAiBA,CAACC,EAAcC,KACpC,GAAa,SAATD,GAA4B,aAATA,EACrB,MAzDsBC,KAAiC,IAADC,EAAAC,EAAAC,EAAAC,EAExD,MAAMC,EAAgC,QAAvBJ,EAAGK,EAAAA,GAAMC,OAAOP,UAAO,IAAAC,OAAA,EAApBA,EAAsBO,KAAKC,OACvCC,EAAO,IAAIC,EAAAA,GAAQ,CAAEN,cACrBO,EAAgC,QAAzBV,EAAU,OAAPtD,QAAO,IAAPA,OAAO,EAAPA,EAAU8D,EAAKD,eAAO,IAAAP,EAAAA,EAAQ,OAAJQ,QAAI,IAAJA,OAAI,EAAJA,EAAME,QAC1CC,EAAoD,QAAxCV,EAAuB,QAAvBC,EAAU,OAAPQ,QAAO,IAAPA,OAAO,EAAPA,EAASE,mBAAW,IAAAV,EAAAA,EAAW,OAAPQ,QAAO,IAAPA,OAAO,EAAPA,EAASC,YAAI,IAAAV,EAAAA,EAAInD,EAAE,2BAChE,OAAOX,GACLoB,EAAAA,EAAAA,KAACkC,EAAAA,EAASoB,MAAK,CAACC,KAAK,QAAQpB,QAAM,KACjCnC,EAAAA,EAAAA,KAAC3B,EAAI,CAACmF,QAAM,EAACzD,KAAM,oBAAoBkD,EAAKQ,OAAQlD,OAAO,SAAQJ,SAAEiD,GAAY,EAiD5EM,CAAiBnB,GACnB,GAAa,WAATD,EACT,OAAOjB,EAAekB,GACjB,GAAa,UAATD,EACT,OA/BmBqB,EA+BEpB,GA7BrBvC,EAAAA,EAAAA,KAACe,EAAAA,EAAM,CAACF,MAAO,CAAEG,WAAYlC,EAAemC,QAAS,GAAIC,aAAc,GAAIa,gBAAiBhD,EAAoBiD,gBAAiB,EAAGC,gBAAiB,SAAU9B,UAC7JH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAAAE,UACFH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAAAR,UACFH,EAAAA,EAAAA,KAAC3B,EAAI,CAACmF,QAAM,EAACzD,KAAM,oBAAoB4D,IAASpD,OAAO,SAAQJ,SAAEZ,EAAE,uCA2BpE,GAAa,UAAT+C,EAAkB,CAC3B,MAAMsB,EAAMf,EAAAA,GAAMC,OAAOP,GAEzB,OAAsB,QAAlBqB,EAAIb,KAAKc,MAvBOC,EAyBIvB,GAzBWwB,EAyBHH,EAAIb,KAAKgB,aAxBxBA,IAAepF,GAEhCqB,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAAAE,UACFH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAAAR,UACFH,EAAAA,EAAAA,KAACgE,EAAAA,GAAM,CAAC1B,KAAK,OAAO2B,QAASA,IAAMxE,EAAS,UAAUqE,KAAS3D,SAC5DZ,EAAE,iCAAkC,CAAEwE,sBALA/D,EAAAA,EAAAA,KAAAkE,EAAAA,SAAA,KA0BpC7C,EAAekB,EAE1B,CACE,OAAOvC,EAAAA,EAAAA,KAAAkE,EAAAA,SAAA,IA9BYC,IAACL,EAAeC,EAZhBJ,CA2CrB,EAgCF,OACE3D,EAAAA,EAAAA,KAACoE,EAAAA,EAAa,CAACC,cAAe,CAACC,EAAAA,EA7BbC,IACVC,KACNC,EAAAA,EAAAA,IAAMD,EAAM,QAASE,IACnB,MACMC,EADQ,+DACMC,KAAKF,EAAKG,OAC1BF,IACFD,EAAKpC,KAAO,OACZoC,EAAKvE,SAAW,GAChBuE,EAAKvE,SAAS2E,KAAK,CACjBxC,KAAM,SACNuC,MAAOxC,EAAesC,EAAM,GAAIA,EAAM,MAExCD,EAAKvE,SAAS2E,KAAK,CACjBxC,KAAM,OACNuC,MAAOH,EAAKG,MAAME,QAAQJ,EAAM,GAAI,MAExC,GACA,GAYoDK,UAAW,qBAAsBC,WAAYtF,EAAkBQ,SAPhHzB,EAAKqG,QAAQ,kCAAkC,CAACJ,EAAOtE,IAErD,YAAiBA,QAOV,C,sPChLpB,MAAM6E,EAAwBrG,IAC5B,MAAM,aACJsG,EAAY,0BACZC,EAAyB,WACzBC,EAAU,UACVC,EAAS,kBACTC,EAAiB,kBACjBC,EAAiB,qBACjBC,GACE5G,EACJ,MAAO,CACL,CAACsG,GAAeO,OAAOC,OAAOD,OAAOC,OAAO,CAAC,GAAGC,EAAAA,EAAAA,IAAe/G,IAAS,CACtEgH,iBAAkB,IAAGC,EAAAA,EAAAA,IAAKR,YAAoBD,IAE9C,aAAc,CACZU,SAAU,WACVC,IAAK,UACLC,QAAS,eACTC,OAAQ,QACRC,aAAcV,EACdW,YAAa,EACbC,cAAe,SACfC,UAAW,EACXC,kBAAmB,IAAGT,EAAAA,EAAAA,IAAKR,YAAoBD,KAEjD,eAAgB,CACdY,QAAS,OACTO,MAAO,OACPpF,MAAO,OACPqF,SAAU,OAEVC,OAAQ,IAAGZ,EAAAA,EAAAA,IAAKjH,EAAM8H,oCAExB,CAAC,eAAexB,eAA2B,CACzCc,QAAS,OACTW,WAAY,SACZF,OAAQ,IAAGZ,EAAAA,EAAAA,IAAKjH,EAAMgI,2CACtBC,MAAOjI,EAAMkI,iBACbC,WAAY,IACZC,SAAUpI,EAAMqI,WAChBC,WAAY,SACZC,UAAW,SACXvB,iBAAkB,KAAKR,IACvB,sBAAuB,CACrBU,SAAU,WACV3E,MAAO,MACPyE,iBAAkB,IAAGC,EAAAA,EAAAA,IAAKR,uBAE1B+B,sBAAuB,UACvBC,eAAgB,EAChBC,UAAW,kBACXC,QAAS,OAGb,CAAC,eAAerC,oBAAgC,CAC9C,YAAa,CACX/D,MAAO,QAAQoE,aAEjB,WAAY,CACVpE,MAAO,eAAeoE,cAG1B,CAAC,eAAeL,qBAAiC,CAC/C,YAAa,CACX/D,MAAO,eAAeoE,aAExB,WAAY,CACVpE,MAAO,QAAQoE,cAGnB,CAAC,GAAGL,gBAA4B,CAC9Bc,QAAS,eACTwB,aAAc,EACdC,cAAenC,GAEjB,WAAY,CACVvE,WAAY,OACZ2G,YAAatC,EACbuC,YAAa,SACbC,YAAa,IAAG/B,EAAAA,EAAAA,IAAKR,UAEvB,CAAC,eAAeH,cAAyBA,YAAwB,CAC/D,sBAAuB,CACrByC,YAAa,qBAGjB,CAAC,aAAazC,YAAwB,CACpC2C,uBAAwBxC,EACxByC,gBAAiB,EACjBlC,iBAAkB,EAClByB,eAAgB,GAElB,WAAY,CACVtG,WAAY,OACZ2G,YAAatC,EACbuC,YAAa,SACbC,YAAa,IAAG/B,EAAAA,EAAAA,IAAKR,UAEvB,CAAC,eAAeH,cAAyBA,YAAwB,CAC/D,sBAAuB,CACrByC,YAAa,qBAGjB,CAAC,aAAazC,YAAwB,CACpC2C,uBAAwBxC,EACxByC,gBAAiB,EACjBlC,iBAAkB,EAClByB,eAAgB,GAElB,CAAC,UAAUnC,eAA2B,CACpC2B,MAAOjI,EAAMmJ,UACbhB,WAAY,SACZC,SAAUpI,EAAMoI,UAElB,CAAC,eAAe9B,mBAA8BA,wCAAoD,CAChG,YAAa,CACX/D,MAAO,GAET,WAAY,CACVA,MAAO,QAET,CAAC,GAAG+D,gBAA4B,CAC9B8C,mBAAoB7C,IAGxB,CAAC,eAAeD,oBAA+BA,yCAAqD,CAClG,YAAa,CACX/D,MAAO,QAET,WAAY,CACVA,MAAO,GAET,CAAC,GAAG+D,gBAA4B,CAC9B+C,iBAAkB9C,MAIzB,EAQH,GAAe+C,EAAAA,EAAAA,IAAc,WAAWtJ,IACtC,MAAMuJ,GAAeC,EAAAA,EAAAA,IAAWxJ,EAAO,CACrCgI,sCAAuChI,EAAM6H,OAC7CC,8BAA+B9H,EAAMyJ,SACrClD,0BAA2B,IAE7B,MAAO,CAACF,EAAsBkD,GAAc,IAZTvJ,IAAS,CAC5C0G,kBAAmB,MACnBC,kBAAmB,IACnBC,qBAAsB5G,EAAM0J,YAUJ,CACxBC,SAAU,CACRhD,mBAAmB,KC5JvB,IAAIiD,EAAgC,SAAUC,EAAGC,GAC/C,IAAIpJ,EAAI,CAAC,EACT,IAAK,IAAIqJ,KAAKF,EAAOhD,OAAOmD,UAAUC,eAAeC,KAAKL,EAAGE,IAAMD,EAAEK,QAAQJ,GAAK,IAAGrJ,EAAEqJ,GAAKF,EAAEE,IAC9F,GAAS,MAALF,GAAqD,oBAAjChD,OAAOuD,sBAA2C,KAAIC,EAAI,EAAb,IAAgBN,EAAIlD,OAAOuD,sBAAsBP,GAAIQ,EAAIN,EAAEO,OAAQD,IAClIP,EAAEK,QAAQJ,EAAEM,IAAM,GAAKxD,OAAOmD,UAAUO,qBAAqBL,KAAKL,EAAGE,EAAEM,MAAK3J,EAAEqJ,EAAEM,IAAMR,EAAEE,EAAEM,IADuB,CAGvH,OAAO3J,CACT,EA0EA,QApEgBM,IACd,MAAM,aACJwJ,EAAY,UACZC,EAAS,QACTC,GACEC,EAAAA,WAAiBC,EAAAA,KAEjBC,UAAWC,EAAkB,KAC7BrH,EAAO,aAAY,YACnBsH,EAAc,SAAQ,kBACtBpE,EAAiB,UACjBR,EAAS,cACT6E,EAAa,SACb1J,EAAQ,OACR2J,EAAM,QACNC,EAAU,QAAO,MACjBC,EAAK,MACLnJ,GACEhB,EACJoK,EAAYxB,EAAO5I,EAAO,CAAC,YAAa,OAAQ,cAAe,oBAAqB,YAAa,gBAAiB,WAAY,SAAU,UAAW,QAAS,UACxJ6J,EAAYL,EAAa,UAAWM,IACnCO,EAAYC,EAAQC,GAAaC,EAASX,GAC3CY,IAAgBnK,EAChBoK,EAAsC,SAAhBX,GAA+C,MAArBpE,EAChDgF,EAAuC,UAAhBZ,GAAgD,MAArBpE,EAClDiF,EAAcC,IAAWhB,EAAuB,OAAZH,QAAgC,IAAZA,OAAqB,EAASA,EAAQvE,UAAWmF,EAAQC,EAAW,GAAGV,KAAapH,IAAQ,CACxJ,CAAC,GAAGoH,eAAwBY,EAC5B,CAAC,GAAGZ,eAAuBE,KAAgBU,EAC3C,CAAC,GAAGZ,cAAuBI,EAC3B,CAAC,GAAGJ,KAAaK,KAAwB,UAAZA,EAC7B,CAAC,GAAGL,aAAsBM,EAC1B,CAAC,GAAGN,SAAgC,QAAdJ,EACtB,CAAC,GAAGI,wCAAiDa,EACrD,CAAC,GAAGb,yCAAkDc,GACrDxF,EAAW6E,GACRc,EAA4BnB,EAAAA,SAAc,IACb,kBAAtBhE,EACFA,EAEL,QAAQ1F,KAAK0F,GACRoF,OAAOpF,GAETA,GACN,CAACA,IACEqF,EAAanF,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAG4E,GAAuB,CACxEO,WAAYH,IACVH,GAAwB,CAC1BO,YAAaJ,IAOf,OAAOT,EAAyBV,EAAAA,cAAoB,MAAO9D,OAAOC,OAAO,CACvEX,UAAWyF,EACX5J,MAAO6E,OAAOC,OAAOD,OAAOC,OAAO,CAAC,EAAe,OAAZ4D,QAAgC,IAAZA,OAAqB,EAASA,EAAQ1I,OAAQA,IACxGoJ,EAAW,CAEZe,KAAM,cACJ7K,GAAqB,aAATmC,GAAsCkH,EAAAA,cAAoB,OAAQ,CAChFxE,UAAW,GAAG0E,eACd7I,MAAOgK,GACN1K,IAAY,E,8IC3DjB,MAAM,MAAE8K,EAAK,KAAE3M,EAAI,KAAED,GAASE,EAAAA,EAEjB2M,EAA2BA,KAAO,IAADzM,EAAA0M,EAAAzI,EAAA0I,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAAC,GAAAC,GAC5C,MAAM,WAAEC,KAAevN,EAAAA,EAAAA,YAA4BwN,EAAAA,KAC7C,IAAEC,GAAG,QAAE3N,GAAO,YAAE4N,GAAW,UAAEC,GAAS,cAAEC,GAAa,SAAE7N,GAAQ,aAAE8N,GAAY,OAAEC,GAAM,WAAEC,GAAU,OAAEC,GAAM,WAAEC,GAAU,cAAEC,KAAkBlO,EAAAA,EAAAA,YAA8BC,EAAAA,KACvK,MAAEwE,KAAU0J,EAAAA,EAAAA,KACZ/N,IAAWC,EAAAA,EAAAA,OACX,EAAEH,KAAMC,EAAAA,EAAAA,MAEZX,OAAO,iBAAE4O,GAAgB,eAAEC,GAAc,aAAEC,GAAY,cAAE7O,GAAa,mBAAEC,GAAkB,aAAE6O,KAC1F3O,EAAAA,EAAMC,YACH2O,GAAYC,KAAiBC,EAAAA,EAAAA,aAC7BC,GAAYC,KAAiBF,EAAAA,EAAAA,aAC7BG,GAAYC,KAAiBJ,EAAAA,EAAAA,aAE7BK,GAAiBC,KAAsBN,EAAAA,EAAAA,WAAkB,IACzDnP,GAAgB0P,KAAqBP,EAAAA,EAAAA,WAAkB,IACvDQ,GAAiBC,KAAsBT,EAAAA,EAAAA,WAAkB,IACzDU,GAAkBC,KAAuBX,EAAAA,EAAAA,WAAkB,IAE3DY,GAAQC,KAAab,EAAAA,EAAAA,WAAkB,IACvCvG,GAASqH,KAAcd,EAAAA,EAAAA,aACvBe,GAASC,KAAchB,EAAAA,EAAAA,aAE9BiB,EAAAA,EAAAA,YAAU,KACR,GAAIlL,GAAO,CAAC,IAADmL,EACT,GAAI9B,GAAOrJ,IAAQ,CACjB,MAAMd,EAASmK,GAAOrJ,IAAOd,OAC7BiL,GAAcd,GAAOrJ,KACjB3E,GAAQ6D,IAASmL,GAAchP,GAAQ6D,GAC7C,CACA8J,GAAIoC,WAAWpL,GAAO,CAAEqL,aAAa,GAAQC,MAAoBC,MAAMC,IACrE,GAAIA,EAAO,CAAC,IAADC,EACTtB,GAAcqB,GACVA,EAAM3Q,MAAMyO,GAAW,CAAE,CAACkC,EAAM3Q,MAAO2Q,IAC3C,MAAME,EAAgBF,EAAMG,KAAK7N,MAAKrC,GAAc,MAATA,EAAE,IAAcA,EAAE,GAAGmQ,WAAW,YACrEC,EAAwB,OAAbH,QAAa,IAAbA,GAA6B,QAAhBD,EAAbC,EAAgB,GAAGI,MAAM,YAAI,IAAAL,OAAhB,EAAbA,EAAgC,GAC7CI,GACEtC,GAAOsC,IAAW7B,GAAcT,GAAOsC,IAC3C7C,GAAI+C,YAAY,CAAE,KAAM,CAACF,IAAa,CAAER,aAAa,GAAQC,MAAoBC,MAAM1G,IACrF,MAAMmH,EAAS,IAAInH,GAAG,GAClBmH,GACFhC,GAAcgC,GACdxC,GAAW,CAAE,CAACwC,EAAOC,UAAWD,EAAQ,CAACH,GAAWG,KAEpDhC,GAAc,IAAIkC,EAAAA,GACpB,KAGFlC,GAAc,IAAIkC,EAAAA,GAEtB,MACElC,GAAc,IAAIkC,EAAAA,GACpB,IAEF,MAAMC,GAAUC,EAAAA,EAAAA,IAAyBpM,IACnCnF,EAAc,OAAPsR,QAAO,IAAPA,GAAe,QAARhB,EAAPgB,EAAU,aAAK,IAAAhB,OAAR,EAAPA,EAAkB,GAAGW,MAAM,KAAK,GAEvCO,EAAQ,CAAC,GACVvD,IAAYuD,EAAMrL,KAAK,GAExBnG,GACFmO,GAAI+C,YAAY,IAAKI,EAASE,SAAS,CAAC,EAAGf,MAAoBC,MAAMe,IACnE,MAAMC,EAAuB,GACvBC,EAAwB,GAC9BF,EAAWG,SAASjB,IAClB,OAAQA,EAAMzL,MACZ,KAAK,EACHwM,EAASvL,KAAKwK,GACd,MACF,KAAK,EACHgB,EAAUxL,KAAKwK,GAInB,IAEFxC,GACG+C,YAAY,CAAEM,MAAO,CAAC,GAAIhR,QAASkR,EAASG,KAAK3O,GAAMA,EAAEmB,UAAW,CAAEmM,aAAa,GAAQC,MAC3FC,MAAMe,IACL,MAAMK,EAAO,CAAC,EACdL,EAAWG,SAASjB,IAClBmB,EAAKnB,EAAMtM,SAAU0N,EAAAA,EAAAA,IAAiBpB,EAAM,IAE9CvC,GAAY0D,GACZnC,IAAkB,EAAM,IAE5BpB,GAAa,CAAE,CAACvO,GAAO0R,IACvBpD,GAAc,CAAE,CAACtO,GAAO2R,IACxB5B,IAAoB,GACpBF,IAAmB,EAAM,GAG/B,CAEA,MAAO,KACLP,QAAc0C,EAAU,CACzB,GACA,KAEH3B,EAAAA,EAAAA,YAAU,KACR,GAAIhB,GAAY,CAAC,IAAD4C,EAEd,GAD4B,QAAlBA,EAAG5C,GAAWrP,YAAI,IAAAiS,OAAA,EAAfA,EAAiBC,WACpB,CACRvC,IAAkB,GAClB,MAAMmC,EAAO,IAAIzC,GAAW8C,gBAAgB,KAAKN,KAAIjR,GAAKA,EAAE,KAAKyO,GAAWhL,QAC5E8J,GACG+C,YAAY,CAAEM,MAAO,CAAC,GAAIhR,QAASsR,GAAQ,CAAEtB,aAAa,GAAQC,MAClEC,MAAMe,IACL,MAAMK,EAAO,CAAC,EACdL,EAAWG,SAASjB,IAClBmB,EAAKnB,EAAMtM,SAAU0N,EAAAA,EAAAA,IAAiBpB,GAClCmB,EAAKnB,EAAMtM,SAASmL,GAAcsC,EAAKnB,EAAMtM,QAAQ,IAE3D+J,GAAY0D,GACZnC,IAAkB,EAAM,GAE9B,CACF,IACC,CAACN,KAEJ,MAgBMoB,GAAmBA,KACvB,IAAI2B,EAAmBxD,KAGvB,GADIM,IAAYA,GAAWmD,SAAST,SAAQU,GAAKF,EAAOjM,KAAKmM,EAAEC,OAC3DpN,GAAO,CAAC,IAADqN,EAAAC,EACT,MAAMxN,EAAMf,EAAAA,GAAMC,OAAOgB,IAEzBiN,EAAS,IAAIA,KAA2B,QAAnBI,EAAW,QAAXC,EAAGxN,EAAIb,YAAI,IAAAqO,OAAA,EAARA,EAAUL,cAAM,IAAAI,EAAAA,EAAI,GAC9C,CAEA,OAAOE,EAAAA,GAAYC,cAAcP,EAAQjE,IAAK,EAAK,EAkCrD,OACE9M,EAAAA,EAAAA,KAACuR,EAAAA,GAAO,CAAApR,UACNO,EAAAA,EAAAA,MAACT,EAAAA,EAAG,CAACC,QAAQ,gBAAeC,SAAA,EAC1BH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAAC6Q,GAAI,GAAIC,GAAI,GAAGtR,UAClBO,EAAAA,EAAAA,MAACT,EAAAA,EAAG,CAACyR,OAAQ,CAAC,EAAG,IAAIvR,SAAA,EACnBH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAM,GAAGT,UACZH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAAAE,UACFH,EAAAA,EAAAA,KAAC2R,EAAAA,EAAU,CACTC,MAAO,CACL,CACEC,OAAO7R,EAAAA,EAAAA,KAAA,KAAAG,SAAG,SACV8D,QAASA,IAAMxE,GAAS,MAE1B,CACEoS,MAAOhE,IAAa7N,EAAAA,EAAAA,KAAA,KAAAG,SAA6D,QAA7D1B,EAAgC,QAAhC0M,EAAc,OAAV0C,SAAU,IAAVA,QAAU,EAAVA,GAAYiE,SAAS,eAAO,IAAA3G,EAAAA,EAAc,OAAV0C,SAAU,IAAVA,QAAU,EAAVA,GAAYiE,SAAS,YAAI,IAAArT,EAAAA,EAAI,SAAauB,EAAAA,EAAAA,KAACkC,EAAAA,EAAQ,CAAC6P,UAAW,CAAEC,KAAM,EAAG5Q,MAAO,GAAIP,MAAO,CAAEoR,UAAW,IAAOJ,OAAO,IAC/K5N,QAASA,IAAMxE,GAAS,UAAoB,OAAVoO,SAAU,IAAVA,IAAAA,GAAYhK,KAAOgK,GAAWkC,SAAW,UAE7E,CACE8B,MAAiE,QAA5DnP,EAA+B,QAA/B0I,EAAY,OAAV4C,SAAU,IAAVA,QAAU,EAAVA,GAAY8D,SAAS,gBAAQ,IAAA1G,EAAAA,EAAc,OAAV4C,SAAU,IAAVA,QAAU,EAAVA,GAAY8D,SAAS,YAAI,IAAApP,EAAAA,GAAI1C,EAAAA,EAAAA,KAACkC,EAAAA,EAAQ,CAAC6P,UAAW,CAAEC,KAAM,EAAG5Q,MAAO,GAAIP,MAAO,CAAEoR,UAAW,IAAOJ,OAAO,aAM5J7R,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAK,KAAIT,UACZH,EAAAA,EAAAA,KAACe,EAAAA,GAAM,CACLF,MAAO,CAAEG,WAAYyM,GAAkByE,oBAAqBxE,GAAgByE,qBAAsBzE,GAAgB0E,cAAe,IAAKjS,UAEtIH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,eAAcC,UACzBH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAK,KAAIT,UACZH,EAAAA,EAAAA,KAACkC,EAAAA,EAAQ,CAACC,QAAM,EAACC,SAAU4L,GAAY+D,UAAW,CAAEC,KAAM,GAAKnR,MAAO,CAAEoR,UAAW,IAAK9R,UACtFH,EAAAA,EAAAA,KAACiL,EAAK,CAAA9K,SAAY,OAAV6N,SAAU,IAAVA,QAAU,EAAVA,GAAY8D,SAAS,sBAMvC9R,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAK,KAAIT,UAEZH,EAAAA,EAAAA,KAACe,EAAAA,GAAM,CACLF,MAAO,CAAEI,QAAS,SAAUD,WAAYyM,GAAkB1L,gBAAiB4L,GAAc3L,gBAAiB,EAAGC,gBAAiB,SAAU9B,UAExIH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,eAAcC,UACzBO,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,KAAK,KAAIT,SAAA,EACZO,EAAAA,EAAAA,MAACT,EAAAA,EAAG,CAAAE,SAAA,EACFH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACE,MAAO,CAAEO,MAAO,IAAKjB,UACxBH,EAAAA,EAAAA,KAACqS,EAAAA,EAAM,CAAC9O,KAAM,GAAIlD,IAAe,OAAV6N,SAAU,IAAVA,QAAU,EAAVA,GAAYoE,MAAOC,OAAiB,OAAVrE,SAAU,IAAVA,IAAAA,GAAYoE,SAAStS,EAAAA,EAAAA,KAACwS,EAAAA,EAAU,CAAC3R,MAAO,CAAEoG,SAAU,UAAcwL,IAAgD,QAA7CpH,EAAyB,QAAzBC,EAAY,OAAV4C,SAAU,IAAVA,QAAU,EAAVA,GAAY7K,mBAAW,IAAAiI,EAAAA,EAAc,OAAV4C,SAAU,IAAVA,QAAU,EAAVA,GAAY9K,YAAI,IAAAiI,EAAAA,EAAI9L,GAAE,gCAE3KS,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACE,MAAO,CAAEO,MAAO,qBAAsBjB,UACzCH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,QAAOC,UAClBH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAM,GAAGT,UACZO,EAAAA,EAAAA,MAACT,EAAAA,EAAG,CAACC,QAAQ,gBAAeC,SAAA,EAC1BH,EAAAA,EAAAA,KAACkC,EAAAA,EAAQ,CAACC,QAAM,EAACC,aAAyBuO,KAAfzC,GAA0B6D,UAAW,CAAEC,KAAM,EAAG5Q,MAAO,KAAOP,MAAO,CAAEoR,WAAY,GAAI/Q,cAAe,EAAGE,MAAO,KAAOyQ,OAAO,EAAM1R,UAC7JH,EAAAA,EAAAA,KAAC3B,EAAI,CAACmF,QAAM,EAACzD,KAAM,oBAA8B,OAAViO,SAAU,IAAVA,QAAU,EAAVA,GAAY0E,OAAOjP,OAAQlD,OAAO,SAAQJ,SACnC,QADmCoL,EACvD,QADuDC,EACpE,OAAV0C,SAAU,IAAVA,QAAU,EAAVA,GAAY7K,mBAAW,IAAAmI,EAAAA,EAAc,OAAV0C,SAAU,IAAVA,QAAU,EAAVA,GAAY9K,YAAI,IAAAmI,EAAAA,EAAIhM,GAAE,gCAGtDS,EAAAA,EAAAA,KAACkC,EAAAA,EAAQ,CAACC,QAAM,EAACC,SAAU4L,GAAY+D,UAAW,CAAEC,KAAM,EAAG5Q,MAAO,KAAOP,MAAO,CAAEoR,WAAY,GAAI/Q,cAAe,EAAGE,MAAO,KAAOyQ,OAAO,EAAM1R,UAC/IH,EAAAA,EAAAA,KAAC1B,EAAI,CAACkF,QAAM,EAAArD,SAAEZ,GAAE,6BAA8B,CAAEoT,MAAMC,EAAAA,EAAAA,IAAoBC,EAAAA,EAAAA,GAAaC,SAAmF,QAA3ErH,EAAqC,QAArCC,EAAW,OAAVsC,SAAU,IAAVA,QAAU,EAAVA,GAAY8D,SAAS,uBAAe,IAAApG,EAAAA,EAAc,OAAVsC,SAAU,IAAVA,IAAsB,QAAZrC,EAAVqC,GAAY+E,kBAAU,IAAApH,OAAZ,EAAVA,EAAwBkF,kBAAU,IAAApF,EAAAA,EAAI,IAAK,KAAM,CAAEuH,WAAW,uBAOlNhT,EAAAA,EAAAA,KAACiT,EAAO,KACRjT,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAAAE,UACFH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAM,GAAGT,UACZH,EAAAA,EAAAA,KAACkC,EAAAA,EAAQ,CAACC,QAAM,EAACC,SAAU4L,GAAY+D,UAAW,CAAEC,KAAM,GAAKH,OAAO,EAAM1R,UAC1EH,EAAAA,EAAAA,KAACxB,EAAAA,EAAQ,CAACE,KAAyB,QAArBkN,EAAY,OAAVoC,SAAU,IAAVA,QAAU,EAAVA,GAAYxG,eAAO,IAAAoE,EAAAA,EAAI,GAAIhN,eAAgBA,GAAgBD,KAAgB,OAAVqP,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,cAInGqB,EAAAA,EAAAA,KAACiT,EAAO,KACRjT,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAAAE,UACFH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAM,GAAGT,UACZO,EAAAA,EAAAA,MAACT,EAAAA,EAAG,CAACC,QAAQ,MAAKC,SAAA,EACdyM,KACA5M,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACE,MAAO,CAAEO,MAAO,GAAI2J,YAAa,IAAK5K,UACzCH,EAAAA,EAAAA,KAAC1B,EAAI,CAACgE,KAAK,YAAWnC,UACpBH,EAAAA,EAAAA,KAACkC,EAAAA,EAAQ,CAACC,QAAM,EAACC,UAAmB,OAAT4K,SAAS,IAATA,IAAAA,GAA4B,QAAnBnB,EAAa,OAAVmC,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,YAAI,IAAAkN,EAAAA,EAAI,MAAO4C,GAAkBsD,UAAW,CAAEC,KAAM,EAAG5Q,MAAO,IAAMyQ,OAAO,EAAM1R,UAClIH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,gBAAeC,UAC1BH,EAAAA,EAAAA,KAACgE,EAAAA,GAAM,CACLuO,MACEvS,EAAAA,EAAAA,KAACkT,EAAAA,EAAY,CAACpM,MAAgB,OAATkG,SAAS,IAATA,IAAmC,QAA1BlB,EAATkB,GAA4B,QAAnBjB,EAAa,OAAViC,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,YAAI,IAAAoN,EAAAA,EAAI,WAAG,IAAAD,GAAnCA,EAAqClK,MAAKuR,IAAQ,IAAAC,EAAA,OAAID,EAASnQ,UAAyB,QAAnBoQ,EAAKtG,GAAIuG,kBAAU,IAAAD,OAAA,EAAdA,EAAgBpQ,OAAO,IAAG,QAAU,YAErIZ,QAASuM,GACT1K,QAASA,IAnJtBqP,MAAa,IAADC,EAAAC,EACjC5E,IAAU,GACV,MAAMjQ,EAAiB,OAAVqP,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,KACnB8U,EAAwB,OAATzG,SAAS,IAATA,IAAmC,QAA1BuG,EAATvG,GAA4B,QAAnBwG,EAAa,OAAVxF,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,YAAI,IAAA6U,EAAAA,EAAI,WAAG,IAAAD,OAA1B,EAATA,EAAqC3R,MAAKuR,IAAQ,IAAAO,EAAA,OAAIP,EAASnQ,UAAyB,QAAnB0Q,EAAK5G,GAAIuG,kBAAU,IAAAK,OAAA,EAAdA,EAAgB1Q,OAAO,IAClHrE,IAAS8U,EACXzF,GACG2F,MAAM,KAAK,GACXtE,MAAM8D,IACDA,GAAUlG,GAAc,CAAE,CAACtO,GAAO,CAACwU,KACvCvE,IAAU,EAAM,IAGpBA,IAAU,EACZ,EAsIiD0E,GAAiBnT,SAEY,QAFZ6L,EAEtB,OAATgB,SAAS,IAATA,IAAmC,QAA1Bf,EAATe,GAA4B,QAAnBd,EAAa,OAAV8B,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,YAAI,IAAAuN,EAAAA,EAAI,WAAG,IAAAD,OAA1B,EAATA,EAAqC9C,cAAM,IAAA6C,EAAAA,EAAI,aAO5DhM,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACE,MAAO,CAAEO,MAAO,GAAI0J,WAAY,IAAK3K,UACxCH,EAAAA,EAAAA,KAAC1B,EAAI,CAACgE,KAAK,YAAWnC,UACpBH,EAAAA,EAAAA,KAACkC,EAAAA,EAAQ,CAACC,QAAM,EAACC,UAAkB,OAARhD,SAAQ,IAARA,IAAAA,GAA2B,QAAnB+M,EAAa,OAAV6B,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,YAAI,IAAAwN,EAAAA,EAAI,MAAOoC,GAAiBwD,UAAW,CAAEC,KAAM,EAAG5Q,MAAO,IAAMyQ,OAAO,EAAM1R,UAChIH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,gBAAeC,UAC1BH,EAAAA,EAAAA,KAACgE,EAAAA,GAAM,CACLuO,MACEvS,EAAAA,EAAAA,KAAC4T,EAAAA,EAAO,CAAC9M,MAAe,OAAR1H,SAAQ,IAARA,IAAkC,QAA1BgN,EAARhN,GAA2B,QAAnBiN,EAAa,OAAV2B,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,YAAI,IAAA0N,EAAAA,EAAI,WAAG,IAAAD,GAAlCA,EAAoCxK,MAAKiS,IAAO,IAAAC,EAAA,OAAID,EAAQ7Q,UAAyB,QAAnB8Q,EAAKhH,GAAIuG,kBAAU,IAAAS,OAAA,EAAdA,EAAgB9Q,OAAO,IAAG,UAAY,YAC9H7C,SAE0C,QAF1CmM,EAEQ,OAARlN,SAAQ,IAARA,IAAkC,QAA1BmN,EAARnN,GAA2B,QAAnBoN,EAAa,OAAVwB,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,YAAI,IAAA6N,EAAAA,EAAI,WAAG,IAAAD,OAA1B,EAARA,EAAoCpD,cAAM,IAAAmD,EAAAA,EAAI,6BAavEtM,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAK,KAAIT,UAEVf,GAAyB,QAAjBqN,GAAW,OAAVuB,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,YAAI,IAAA8N,GAAAA,GAAI,KAAO8B,IACpCvO,EAAAA,EAAAA,KAAAkE,EAAAA,SAAA,KAEAlE,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACyR,OAAQ,CAAC,EAAG,IAAIvR,SACc,QADduM,GAClBtN,GAAyB,QAAjBuN,GAAW,OAAVqB,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,YAAI,IAAAgO,GAAAA,GAAI,WAAG,IAAAD,QAAA,EAAhCA,GAAkC8D,KAAI,CAACqD,EAAS3K,KAAO,IAAD6K,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACrD,MAAM7B,EAASvT,GAAQ0U,EAAQ7Q,QACzBI,EAA0C,QAAtC2Q,EAAsB,QAAtBC,EAAS,OAANtB,QAAM,IAANA,OAAM,EAANA,EAAQrP,mBAAW,IAAA2Q,EAAAA,EAAU,OAANtB,QAAM,IAANA,OAAM,EAANA,EAAQtP,YAAI,IAAA2Q,EAAAA,EAAIxU,GAAE,2BAChDiV,EAAYX,EAAQ/C,gBAAgB,KACpC2D,EAAyC,QAAlCR,EAAGO,EAAUA,EAAUrL,OAAS,UAAE,IAAA8K,OAAA,EAA/BA,EAAkC,GAC5CS,EAAQD,KAAsB,OAAVzG,SAAU,IAAVA,QAAU,EAAVA,GAAYlM,IAAK1C,GAAyB,QAAjB8U,EAAW,OAAVlG,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,YAAI,IAAAuV,EAAAA,EAAI,IAAItS,MAAKC,GAAKA,EAAEC,KAAO2S,IAAW,KAC1G,OACEzU,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAM,GAAGT,UACZH,EAAAA,EAAAA,KAACe,EAAAA,GAAM,CACLF,MAAO,CAAEI,QAAS,SAAUD,WAAYyM,GAAkB1L,gBAAiB6L,GAAc5L,gBAAiB6R,EAAQ7Q,UAAyB,QAAnBmR,EAAKrH,GAAIuG,kBAAU,IAAAc,OAAA,EAAdA,EAAgBnR,QAAS,EAAI,EAAGf,gBAAiB,SAAU9B,UAExLH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,eAAcC,UACzBO,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,KAAK,KAAIT,SAAA,EACZO,EAAAA,EAAAA,MAACT,EAAAA,EAAG,CAAAE,SAAA,EACFH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACE,MAAO,CAAEO,MAAO,IAAKjB,UACxBH,EAAAA,EAAAA,KAACqS,EAAAA,EAAM,CAAC9O,KAAM,GAAIlD,IAAW,OAANqS,QAAM,IAANA,OAAM,EAANA,EAAQJ,MAAOC,OAAa,OAANG,QAAM,IAANA,GAAAA,EAAQJ,SAAStS,EAAAA,EAAAA,KAACwS,EAAAA,EAAU,CAAC3R,MAAO,CAAEoG,SAAU,UAAcwL,IAAKrP,OAElHpD,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACE,MAAO,CAAEO,MAAO,qBAAsBjB,UACzCH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,QAAOC,UAClBO,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,KAAM,GAAGT,SAAA,EACZO,EAAAA,EAAAA,MAACT,EAAAA,EAAG,CAACC,QAAQ,gBAAeC,SAAA,EAC1BH,EAAAA,EAAAA,KAACkC,EAAAA,EAAQ,CAACC,QAAM,EAACC,aAAoBuO,IAAX+B,GAAwB9T,GAAgBmT,UAAW,CAAEC,KAAM,EAAG5Q,MAAO,KAAOP,MAAO,CAAEoR,WAAY,GAAI/Q,cAAe,EAAGE,MAAO,KAAOyQ,OAAO,EAAM1R,UAC1KH,EAAAA,EAAAA,KAAC3B,EAAI,CAACmF,QAAM,EAACzD,KAAM,oBAA2B,OAAP8T,QAAO,IAAPA,OAAO,EAAPA,EAASnB,OAAOjP,OAAQlD,OAAO,SAAQJ,SAC3EiD,OAGLpD,EAAAA,EAAAA,KAAC1B,EAAI,CAACkF,QAAM,EAAArD,SAAEZ,GAAE,6BAA8B,CAAEoT,MAAMC,EAAAA,EAAAA,IAAoBC,EAAAA,EAAAA,GAA+B,QAAnBuB,EAACP,EAAQd,kBAAU,IAAAqB,EAAAA,EAAI,GAAI,CAAEpB,WAAW,YAEhIhT,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,MAAKC,UAChBH,EAAAA,EAAAA,KAACgE,EAAAA,GAAM,CAAC1B,KAAK,OAAO2B,QAASA,IAAM8K,GAAW8E,GAAS1T,SAAEZ,GAAE,oCAMrES,EAAAA,EAAAA,KAACiT,EAAO,KACRjT,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAAAE,UACFO,EAAAA,EAAAA,MAACC,EAAAA,EAAG,CAACC,KAAM,GAAGT,SAAA,CACXuU,IACC1U,EAAAA,EAAAA,KAACe,EAAAA,GAAM,CAACF,MAAO,CAAEG,WAAYlC,GAAemC,QAAS,GAAIC,aAAc,GAAIa,gBAAiBhD,GAAoBiD,gBAAiB,EAAGC,gBAAiB,SAAU9B,UAC7JH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAAAE,UACFH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAAAR,UACFH,EAAAA,EAAAA,KAACxB,EAAAA,EAAQ,CAACE,KAAMgW,EAAMlN,QAAS5I,eAAgBA,GAAgBD,KAAgB,OAAVqP,SAAU,IAAVA,IAAgB,QAANqG,EAAVrG,GAAYrP,YAAI,IAAA0V,OAAN,EAAVA,EAAkBxD,oBAK/F7Q,EAAAA,EAAAA,KAACxB,EAAAA,EAAQ,CAACE,KAAqB,QAAjB4V,EAAET,EAAQrM,eAAO,IAAA8M,EAAAA,EAAI,GAAI1V,eAAgBA,GAAgBD,KAAgB,OAAVqP,SAAU,IAAVA,IAAgB,QAANuG,EAAVvG,GAAYrP,YAAI,IAAA4V,OAAN,EAAVA,EAAkB1D,0BAxCvF3H,EA8Cd,SAMhBlJ,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAK,KAAIT,UACZH,EAAAA,EAAAA,KAACe,EAAAA,GAAM,CACLF,MAAO,CAAEG,WAAYyM,GAAkBxM,QAAS,UAAWd,UAE3DO,EAAAA,EAAAA,MAACT,EAAAA,EAAG,CAACC,QAAQ,eAAewR,OAAQ,CAAC,EAAG,IAAIvR,SAAA,EAC1CH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAK,KAAIT,UACZH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAAAE,SACD2O,KACCpO,EAAAA,EAAAA,MAACK,EAAAA,GAAM,CAACF,MAAO,CAAEG,WAAYlC,GAAemC,QAAS,GAAIC,aAAc,GAAIa,gBAAiBhD,GAAoBiD,gBAAiB,EAAGC,gBAAiB,SAAU9B,SAAA,EAC7JH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAAAE,UACFH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAAAR,UACFH,EAAAA,EAAAA,KAACxB,EAAAA,EAAQ,CAACE,KAAMoQ,GAAQtH,QAAS5I,eAAgBA,GAAgBD,KAAgB,OAAVqP,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,YAGvFqB,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,MAAKC,UAChBH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACE,MAAO,CAAEkF,SAAU,YAAa5F,UACnCH,EAAAA,EAAAA,KAACgE,EAAAA,GAAM,CAAC1B,KAAK,OAAO2B,QAASA,IAAM8K,QAAW4B,GAAWxQ,SAAEZ,GAAE,yCAOzES,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAK,KAAIT,UACZH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAAAE,UACFH,EAAAA,EAAAA,KAAC2U,EAAAA,EAAQ,CAAC3C,KAAM,EAAGxK,QAASA,GAASoN,SAAWC,GAAMhG,GAAWgG,EAAEtU,OAAOsE,cAG9E7E,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAK,KAAIT,UACZH,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,QAAQ,MAAKC,UAChBH,EAAAA,EAAAA,KAACgE,EAAAA,GAAM,CAAC5B,QAASgM,GAAiBnK,QApPhC6Q,UACpBzG,IAAmB,GACnB,MAAM1P,EAAiB,OAAVqP,SAAU,IAAVA,QAAU,EAAVA,GAAYrP,KACzB,GAAIqP,IAAcrP,GAAQmF,IAAS0D,IAAuB,KAAZA,GAAgB,CAC5D,MAAMuN,EAAa,IAAI/E,EAAAA,GAASlD,IAChCiI,EAAWlR,KAAO,EAClBkR,EAAWvN,QAAUA,GAErBuN,EAAWtF,KAAK3K,KAAKkJ,GAAWgH,gBAChChH,GAAWyB,KAAKc,SAAShR,IACV,MAATA,EAAE,IAAYwV,EAAWtF,KAAK3K,KAAKvF,EAAE,IAG7B,OAAVsO,SAAU,IAAVA,IAAAA,GAAYhK,MAAMkR,EAAWtF,KAAK3K,KAAK,CAAC,IAAK+I,GAAWmH,eAAe,KACvElG,IAASA,GAAQmG,gBAAgB1E,SAAShR,GAAMwV,EAAWtF,KAAK3K,KAAKvF,KAEzEwV,EACGG,QAAQ9F,MACRC,MAAM8F,IACDA,GACFjI,GAAa,CAAE,CAACvO,GAAO,CAACoW,KAE1BhG,QAAW4B,GACX9B,GAAW,GAAG,IAEfuG,SAAQ,IAAM/G,IAAmB,IACtC,MACEA,IAAmB,EACrB,EAwN4EgH,UAAW7N,IAAuB,KAAZA,GAAgBlF,KAAK,UAAUgT,SAAS,SAAS/R,KAAK,QAAQgP,MAAMvS,EAAAA,EAAAA,KAACuV,EAAAA,EAAW,IAAKC,aAAa,MAAKrV,SACpLZ,GAAE,gDASnBS,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAAC6Q,GAAI,EAAGC,GAAI,EAAEtR,UAChBO,EAAAA,EAAAA,MAACT,EAAAA,EAAG,CAACyR,OAAQ,CAAC,EAAG,IAAK7Q,MAAO,CAAEoR,UAAW,IAAK9R,SAAA,EAC7CH,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAM,GAAGT,UACZH,EAAAA,EAAAA,KAACyV,EAAAA,EAAU,OAEbzV,EAAAA,EAAAA,KAACW,EAAAA,EAAG,CAACC,KAAM,GAAGT,UACZH,EAAAA,EAAAA,KAAC0V,EAAAA,EAAa,eAKd,C,oBC/aVC,EAAyBC,EAAQ,MAIrCC,EAAQ,OAAU,EAClB,IAAIC,EAAiBH,EAAuBC,EAAQ,KAChDG,EAAcH,EAAQ,KACXC,EAAQ,GAAU,EAAIC,EAAeE,UAAuB,EAAID,EAAYE,KAAK,OAAQ,CACtGC,EAAG,kHACD,U,0DCVJ,QADkB,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,oeAAwe,KAAQ,MAAO,MAAS,Y,cCMrpBC,EAAc,SAAqBtW,EAAO+D,GAC5C,OAAoB4F,EAAAA,cAAoB4M,EAAAA,GAAUC,EAAAA,EAAAA,GAAS,CAAC,EAAGxW,EAAO,CACpE+D,IAAKA,EACL2O,KAAM+D,IAEV,EAOA,QAJ2B9M,EAAAA,WAAiB2M,E,gDCd7B,SAASI,EAAqBhW,EAAQiW,EAAWC,EAAIC,GAElE,IAAIC,EAAWC,EAAAA,wBAAmC,SAAajO,GAC7DiO,EAAAA,wBAAiCH,EAAI9N,EACvC,EAAI8N,EAIJ,OAHe,OAAXlW,QAA8B,IAAXA,GAAqBA,EAAOsW,kBACjDtW,EAAOsW,iBAAiBL,EAAWG,EAAUD,GAExC,CACLI,OAAQ,WACS,OAAXvW,QAA8B,IAAXA,GAAqBA,EAAOwW,qBACjDxW,EAAOwW,oBAAoBP,EAAWG,EAAUD,EAEpD,EAEJ,C,4CCwDO,SAASM,IAGd,MAAO,CACL5V,MAHU6V,SAASC,gBAAgBC,YAInCjR,OAHWkR,OAAOC,aAAeJ,SAASC,gBAAgBI,aAK9D,CAOO,SAASC,EAAU7S,GACxB,IAAI8S,EAAM9S,EAAK+S,wBACXC,EAAUT,SAASC,gBAGvB,MAAO,CACLS,KAAMH,EAAIG,MAAQP,OAAOQ,aAAeF,EAAQG,aAAeH,EAAQI,YAAcb,SAASc,KAAKD,YAAc,GACjH9R,IAAKwR,EAAIxR,KAAOoR,OAAOY,aAAeN,EAAQO,YAAcP,EAAQQ,WAAajB,SAASc,KAAKG,WAAa,GAEhH,C","sources":["app/components/Markdown/index.tsx","../node_modules/antd/es/divider/style/index.js","../node_modules/antd/es/divider/index.js","app/pages/Topic/index.tsx","../node_modules/@mui/icons-material/Comment.js","../node_modules/@ant-design/icons-svg/es/asn/EyeOutlined.js","../node_modules/antd/node_modules/@ant-design/icons/es/icons/EyeOutlined.js","../node_modules/rc-util/es/Dom/addEventListener.js","../node_modules/rc-util/es/Dom/css.js"],"sourcesContent":["import { NDKUser, filterFromId } from \"@nostr-dev-kit/ndk\";\nimport { Skeleton, Typography, Image, Col, Layout, Row, theme, Button } from \"antd\";\nimport { UseNostrStoreType, NostrContext } from \"app/contexts/NostrContext\";\nimport { useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\nimport { visit } from 'unist-util-visit';\nimport { nip19 } from 'nostr-tools'\nimport { useNavigate } from \"react-router-dom\";\n\nconst { Link, Text } = Typography;\n\ninterface MarkdownProps {\n  text: string\n  dTag?: string\n  loadingAuthors?: boolean\n}\n\nexport const Markdown: React.FC<MarkdownProps> = ({ text, dTag, loadingAuthors }) => {\n  const {\n    token: { colorBgLayout, colorTextSecondary, colorBgContainerDisabled },\n  } = theme.useToken();\n  const { authors, comments } = useContext<UseNostrStoreType>(NostrContext);\n  const { t } = useTranslation()\n  const navigate = useNavigate();\n  const markdownComponent = {\n    a: props => {\n      const imageRegex = /\\.(jpg|jpeg|png|gif|bmp|webp|svg)$/i\n      return imageRegex.test(props.href) ?\n        <Row justify=\"center\">\n          <Image\n            src={props.href}\n            fallback=\"data:image/png;base64,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\"\n          />\n        </Row>\n        : <Link target=\"_blank\" href={props.href}>{props.children}</Link>\n    },\n    img: props => {\n      return <Row justify=\"center\">\n        <Image\n          src={props.src}\n          fallback=\"data:image/png;base64,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\"\n        />\n      </Row>\n    },\n    code: props => {\n      return (\n        <Col span={24}>\n          <Row style={{ backgroundColor: colorBgContainerDisabled }} justify=\"center\">\n            <Col span={23}>\n              <Text>{t('components.markDown.code')}</Text>\n            </Col>\n          </Row>\n          <Row justify=\"center\">\n            <Layout\n              style={{\n                background: colorBgLayout,\n                padding: 25,\n                marginBottom: 10,\n                overflowX: 'auto',\n                width: 300\n              }}\n            >\n              {props.children}\n            </Layout>\n          </Row>\n        </Col>\n      )\n    },\n  }\n\n  const mentionComponent = (bech32: string): JSX.Element => {\n    // @ts-expect-error\n    const hexpubkey = nip19.decode(bech32)?.data.pubkey\n    const user = new NDKUser({ hexpubkey })\n    const profile = authors?.[user.pubkey] ?? user?.profile\n    const name: string = profile?.displayName ?? profile?.name ?? t(\"shared.events.anonymous\")\n    return loadingAuthors ?\n      <Skeleton.Input size=\"small\" active />\n      : <Link strong href={`https://njump.me/${user.npub}`} target=\"_blank\">{name}</Link>\n  }\n\n  const eventComponent = (nevent: string): JSX.Element => {\n    let eventText\n    if (dTag) {\n      const eventId = filterFromId(nevent)?.['#e']?.[0]\n      eventText = comments[dTag].find(c => c.id === eventId)\n    }\n    return (\n      <Layout style={{ background: colorBgLayout, padding: 25, marginBottom: 10, borderLeftColor: colorTextSecondary, borderLeftWidth: 5, borderLeftStyle: 'solid' }}>\n        <Row>\n          <Col>\n            <Skeleton active loading={!eventText}>\n              {eventText}\n            </Skeleton>\n          </Col>\n        </Row>\n      </Layout>\n    )\n  }\n\n  const noteComponent = (note1: string): JSX.Element => {\n    return (\n      <Layout style={{ background: colorBgLayout, padding: 25, marginBottom: 10, borderLeftColor: colorTextSecondary, borderLeftWidth: 5, borderLeftStyle: 'solid' }}>\n        <Row>\n          <Col>\n            <Link strong href={`https://njump.me/${note1}`} target=\"_blank\">{t('components.markDown.seeNote')}</Link>\n          </Col>\n        </Row>\n      </Layout>\n    )\n  }\n\n  const topicComponent = (naddr: string, identifier: string): JSX.Element => {\n    if (!identifier || identifier === dTag) return <></>\n    return (\n      <Row>\n        <Col>\n          <Button type=\"link\" onClick={() => navigate(`/topic/${naddr}`)}>\n            {t('components.markDown.identifier', { identifier })}\n          </Button>\n        </Col>\n      </Row>\n    )\n  }\n\n  const applyComponent = (type: string, bech32: string): JSX.Element => {\n    if (type === 'npub' || type === 'nprofile') {\n      return mentionComponent(bech32)\n    } else if (type === 'nevent') {\n      return eventComponent(bech32)\n    } else if (type === 'note1') {\n      return noteComponent(bech32)\n    } else if (type === 'naddr') {\n      const ref = nip19.decode(bech32)\n      // @ts-expect-error\n      if (ref.data.kind === 30023) {\n        // @ts-expect-error\n        return topicComponent(bech32, ref.data.identifier)\n      } else {\n        return eventComponent(bech32)\n      }\n    } else {\n      return <></>\n    }\n  }\n\n\n  const nostrSyntax = (): (tree: any) => void => {\n    return (tree) => {\n      visit(tree, 'text', (node) => {\n        const regex = /(?:nostr:)?((naddr|nevent|npub|nprofile|note)1[a-zA-Z0-9]+)/g\n        const match = regex.exec(node.value)\n        if (match) {\n          node.type = 'root';\n          node.children = []\n          node.children.push({\n            type: 'custom',\n            value: applyComponent(match[2], match[1]),\n          });\n          node.children.push({\n            type: 'text',\n            value: node.value.replace(match[0], \"\"),\n          });\n        }\n      });\n    };\n  };\n\n  const parseHTML = (): string => {\n    return text.replace(/<img\\s+src=\"([^\"]+)\"\\s*[^>]*>/g, (match, src) => {\n      const altText = 'Image';\n      return `![${altText}](${src})`;\n    });\n  }\n\n  return (\n    <ReactMarkdown remarkPlugins={[remarkGfm, nostrSyntax]} className={\"markdown-container\"} components={markdownComponent}>\n      {parseHTML()}\n    </ReactMarkdown>\n  )\n}\n","import { unit } from '@ant-design/cssinjs';\nimport { resetComponent } from '../../style';\nimport { genStyleHooks, mergeToken } from '../../theme/internal';\n// ============================== Shared ==============================\nconst genSharedDividerStyle = token => {\n  const {\n    componentCls,\n    sizePaddingEdgeHorizontal,\n    colorSplit,\n    lineWidth,\n    textPaddingInline,\n    orientationMargin,\n    verticalMarginInline\n  } = token;\n  return {\n    [componentCls]: Object.assign(Object.assign({}, resetComponent(token)), {\n      borderBlockStart: `${unit(lineWidth)} solid ${colorSplit}`,\n      // vertical\n      '&-vertical': {\n        position: 'relative',\n        top: '-0.06em',\n        display: 'inline-block',\n        height: '0.9em',\n        marginInline: verticalMarginInline,\n        marginBlock: 0,\n        verticalAlign: 'middle',\n        borderTop: 0,\n        borderInlineStart: `${unit(lineWidth)} solid ${colorSplit}`\n      },\n      '&-horizontal': {\n        display: 'flex',\n        clear: 'both',\n        width: '100%',\n        minWidth: '100%',\n        // Fix https://github.com/ant-design/ant-design/issues/10914\n        margin: `${unit(token.dividerHorizontalGutterMargin)} 0`\n      },\n      [`&-horizontal${componentCls}-with-text`]: {\n        display: 'flex',\n        alignItems: 'center',\n        margin: `${unit(token.dividerHorizontalWithTextGutterMargin)} 0`,\n        color: token.colorTextHeading,\n        fontWeight: 500,\n        fontSize: token.fontSizeLG,\n        whiteSpace: 'nowrap',\n        textAlign: 'center',\n        borderBlockStart: `0 ${colorSplit}`,\n        '&::before, &::after': {\n          position: 'relative',\n          width: '50%',\n          borderBlockStart: `${unit(lineWidth)} solid transparent`,\n          // Chrome not accept `inherit` in `border-top`\n          borderBlockStartColor: 'inherit',\n          borderBlockEnd: 0,\n          transform: 'translateY(50%)',\n          content: \"''\"\n        }\n      },\n      [`&-horizontal${componentCls}-with-text-left`]: {\n        '&::before': {\n          width: `calc(${orientationMargin} * 100%)`\n        },\n        '&::after': {\n          width: `calc(100% - ${orientationMargin} * 100%)`\n        }\n      },\n      [`&-horizontal${componentCls}-with-text-right`]: {\n        '&::before': {\n          width: `calc(100% - ${orientationMargin} * 100%)`\n        },\n        '&::after': {\n          width: `calc(${orientationMargin} * 100%)`\n        }\n      },\n      [`${componentCls}-inner-text`]: {\n        display: 'inline-block',\n        paddingBlock: 0,\n        paddingInline: textPaddingInline\n      },\n      '&-dashed': {\n        background: 'none',\n        borderColor: colorSplit,\n        borderStyle: 'dashed',\n        borderWidth: `${unit(lineWidth)} 0 0`\n      },\n      [`&-horizontal${componentCls}-with-text${componentCls}-dashed`]: {\n        '&::before, &::after': {\n          borderStyle: 'dashed none none'\n        }\n      },\n      [`&-vertical${componentCls}-dashed`]: {\n        borderInlineStartWidth: lineWidth,\n        borderInlineEnd: 0,\n        borderBlockStart: 0,\n        borderBlockEnd: 0\n      },\n      '&-dotted': {\n        background: 'none',\n        borderColor: colorSplit,\n        borderStyle: 'dotted',\n        borderWidth: `${unit(lineWidth)} 0 0`\n      },\n      [`&-horizontal${componentCls}-with-text${componentCls}-dotted`]: {\n        '&::before, &::after': {\n          borderStyle: 'dotted none none'\n        }\n      },\n      [`&-vertical${componentCls}-dotted`]: {\n        borderInlineStartWidth: lineWidth,\n        borderInlineEnd: 0,\n        borderBlockStart: 0,\n        borderBlockEnd: 0\n      },\n      [`&-plain${componentCls}-with-text`]: {\n        color: token.colorText,\n        fontWeight: 'normal',\n        fontSize: token.fontSize\n      },\n      [`&-horizontal${componentCls}-with-text-left${componentCls}-no-default-orientation-margin-left`]: {\n        '&::before': {\n          width: 0\n        },\n        '&::after': {\n          width: '100%'\n        },\n        [`${componentCls}-inner-text`]: {\n          paddingInlineStart: sizePaddingEdgeHorizontal\n        }\n      },\n      [`&-horizontal${componentCls}-with-text-right${componentCls}-no-default-orientation-margin-right`]: {\n        '&::before': {\n          width: '100%'\n        },\n        '&::after': {\n          width: 0\n        },\n        [`${componentCls}-inner-text`]: {\n          paddingInlineEnd: sizePaddingEdgeHorizontal\n        }\n      }\n    })\n  };\n};\nexport const prepareComponentToken = token => ({\n  textPaddingInline: '1em',\n  orientationMargin: 0.05,\n  verticalMarginInline: token.marginXS\n});\n// ============================== Export ==============================\nexport default genStyleHooks('Divider', token => {\n  const dividerToken = mergeToken(token, {\n    dividerHorizontalWithTextGutterMargin: token.margin,\n    dividerHorizontalGutterMargin: token.marginLG,\n    sizePaddingEdgeHorizontal: 0\n  });\n  return [genSharedDividerStyle(dividerToken)];\n}, prepareComponentToken, {\n  unitless: {\n    orientationMargin: true\n  }\n});","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { devUseWarning } from '../_util/warning';\nimport { ConfigContext } from '../config-provider';\nimport useStyle from './style';\nconst Divider = props => {\n  const {\n    getPrefixCls,\n    direction,\n    divider\n  } = React.useContext(ConfigContext);\n  const {\n      prefixCls: customizePrefixCls,\n      type = 'horizontal',\n      orientation = 'center',\n      orientationMargin,\n      className,\n      rootClassName,\n      children,\n      dashed,\n      variant = 'solid',\n      plain,\n      style\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"type\", \"orientation\", \"orientationMargin\", \"className\", \"rootClassName\", \"children\", \"dashed\", \"variant\", \"plain\", \"style\"]);\n  const prefixCls = getPrefixCls('divider', customizePrefixCls);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls);\n  const hasChildren = !!children;\n  const hasCustomMarginLeft = orientation === 'left' && orientationMargin != null;\n  const hasCustomMarginRight = orientation === 'right' && orientationMargin != null;\n  const classString = classNames(prefixCls, divider === null || divider === void 0 ? void 0 : divider.className, hashId, cssVarCls, `${prefixCls}-${type}`, {\n    [`${prefixCls}-with-text`]: hasChildren,\n    [`${prefixCls}-with-text-${orientation}`]: hasChildren,\n    [`${prefixCls}-dashed`]: !!dashed,\n    [`${prefixCls}-${variant}`]: variant !== 'solid',\n    [`${prefixCls}-plain`]: !!plain,\n    [`${prefixCls}-rtl`]: direction === 'rtl',\n    [`${prefixCls}-no-default-orientation-margin-left`]: hasCustomMarginLeft,\n    [`${prefixCls}-no-default-orientation-margin-right`]: hasCustomMarginRight\n  }, className, rootClassName);\n  const memoizedOrientationMargin = React.useMemo(() => {\n    if (typeof orientationMargin === 'number') {\n      return orientationMargin;\n    }\n    if (/^\\d+$/.test(orientationMargin)) {\n      return Number(orientationMargin);\n    }\n    return orientationMargin;\n  }, [orientationMargin]);\n  const innerStyle = Object.assign(Object.assign({}, hasCustomMarginLeft && {\n    marginLeft: memoizedOrientationMargin\n  }), hasCustomMarginRight && {\n    marginRight: memoizedOrientationMargin\n  });\n  // Warning children not work in vertical mode\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Divider');\n    process.env.NODE_ENV !== \"production\" ? warning(!children || type !== 'vertical', 'usage', '`children` not working in `vertical` mode.') : void 0;\n  }\n  return wrapCSSVar( /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: classString,\n    style: Object.assign(Object.assign({}, divider === null || divider === void 0 ? void 0 : divider.style), style)\n  }, restProps, {\n    // biome-ignore lint/a11y/useAriaPropsForRole: divider do not need aria-value\n    role: \"separator\"\n  }), children && type !== 'vertical' && ( /*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefixCls}-inner-text`,\n    style: innerStyle\n  }, children))));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Divider.displayName = 'Divider';\n}\nexport default Divider;","import { NDKEvent, NDKRelaySet, NDKUserProfile, filterForEventsTaggingId, profileFromEvent } from \"@nostr-dev-kit/ndk\";\nimport PersonIcon from '@mui/icons-material/Person';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport SmsIcon from '@mui/icons-material/Sms';\nimport CommentIcon from '@mui/icons-material/Comment';\nimport { Avatar, Breadcrumb, Button, Col, Divider, Row, Skeleton, Typography, theme } from \"antd\";\nimport Layout, { Content } from \"antd/es/layout/layout\"\nimport { UseNostrStoreType, NostrContext } from \"app/contexts/NostrContext\";\nimport { fromUnixTime, formatDistanceToNow } from \"date-fns\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Markdown } from \"app/components/Markdown\";\nimport TextArea from \"antd/es/input/TextArea\";\nimport { ActiveUser } from \"app/components/ActiveUser\";\nimport { ForumsButtons } from \"app/components/ForumsButtons\";\nimport { AppContext, UseAppStoreType } from \"app/contexts/AppContext\";\nimport { nip19 } from \"nostr-tools\";\n\nconst { Title, Text, Link } = Typography;\n\nexport const Topic: () => JSX.Element = () => {\n  const { turtleMode } = useContext<UseAppStoreType>(AppContext);\n  const { ndk, authors, saveAuthors, reactions, saveReactions, comments, saveComments, topics, saveTopics, forums, saveForums, getBaseRelays } = useContext<UseNostrStoreType>(NostrContext);\n  const { naddr } = useParams();\n  const navigate = useNavigate();\n  const { t } = useTranslation()\n  const {\n    token: { colorBgContainer, borderRadiusLG, colorPrimary, colorBgLayout, colorTextSecondary, colorSuccess },\n  } = theme.useToken();\n  const [forumEvent, setForumEvent] = useState<NDKEvent>()\n  const [topicEvent, setTopicEvent] = useState<NDKEvent>()\n  const [rootAuthor, setRootAuthor] = useState<NDKUserProfile | null>()\n\n  const [creatingComment, setCreatingComment] = useState<boolean>(false)\n  const [loadingAuthors, setLoadingAuthors] = useState<boolean>(true)\n  const [loadingComments, setLoadingComments] = useState<boolean>(true)\n  const [loadingReactions, setLoadingReactions] = useState<boolean>(true)\n\n  const [liking, setLiking] = useState<boolean>(false)\n  const [content, setContent] = useState<string>()\n  const [replyTo, setReplyTo] = useState<NDKEvent>()\n\n  useEffect(() => {\n    if (naddr) {\n      if (topics[naddr]) {\n        const pubkey = topics[naddr].pubkey\n        setTopicEvent(topics[naddr])\n        if (authors[pubkey]) setRootAuthor(authors[pubkey])\n      }\n      ndk.fetchEvent(naddr, { closeOnEose: true }, getForumRelaySet()).then((event) => {\n        if (event) {\n          setTopicEvent(event)\n          if (event.dTag) saveTopics({ [event.dTag]: event })\n          const mainReference = event.tags.find(t => t[0] === 'a' && t[1].startsWith('34550:'))\n          const mainDTag = mainReference?.[1].split(':')?.[2]\n          if (mainDTag) {\n            if (forums[mainDTag]) setForumEvent(forums[mainDTag])\n            ndk.fetchEvents({ '#d': [mainDTag] }, { closeOnEose: true }, getForumRelaySet()).then((e) => {\n              const fEvent = [...e][0]\n              if (fEvent) {\n                setForumEvent(fEvent)\n                saveForums({ [fEvent.encode()]: fEvent, [mainDTag]: fEvent })\n              } else {\n                setForumEvent(new NDKEvent())\n              }\n            })\n          } else {\n            setForumEvent(new NDKEvent())\n          }\n        } else {\n          setForumEvent(new NDKEvent())\n        }\n      })\n      const filters = filterForEventsTaggingId(naddr)\n      const dTag = filters?.['#a']?.[0].split(':')[2]\n\n      const kinds = [1]\n      if (!turtleMode) kinds.push(7)\n\n      if (dTag) {\n        ndk.fetchEvents({ ...filters, kinds }, {}, getForumRelaySet()).then((eventsList) => {\n          const commList: NDKEvent[] = []\n          const reactList: NDKEvent[] = []\n          eventsList.forEach((event) => {\n            switch (event.kind) {\n              case 1:\n                commList.push(event)\n                break;\n              case 7:\n                reactList.push(event)\n                break;\n              default:\n                break;\n            }\n          })\n          ndk\n            .fetchEvents({ kinds: [0], authors: commList.map((c) => c.pubkey) }, { closeOnEose: true }, getForumRelaySet())\n            .then((eventsList) => {\n              const list = {}\n              eventsList.forEach((event) => {\n                list[event.pubkey] = profileFromEvent(event)\n              })\n              saveAuthors(list)\n              setLoadingAuthors(false)\n            })\n          saveComments({ [dTag]: commList })\n          saveReactions({ [dTag]: reactList })\n          setLoadingReactions(false)\n          setLoadingComments(false)\n        })\n      }\n    }\n\n    return () => {\n      setTopicEvent(undefined)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (topicEvent) {\n      const dTag = topicEvent.dTag?.toString()\n      if (dTag) {\n        setLoadingAuthors(true)\n        const list = [...topicEvent.getMatchingTags(\"p\").map(t => t[1]), topicEvent.pubkey]\n        ndk\n          .fetchEvents({ kinds: [0], authors: list }, { closeOnEose: true }, getForumRelaySet())\n          .then((eventsList) => {\n            const list = {}\n            eventsList.forEach((event) => {\n              list[event.pubkey] = profileFromEvent(event)\n              if (list[event.pubkey]) setRootAuthor(list[event.pubkey])\n            })\n            saveAuthors(list)\n            setLoadingAuthors(false)\n          })\n      }\n    }\n  }, [topicEvent])\n\n  const likeTopicEvent = (): void => {\n    setLiking(true)\n    const dTag = topicEvent?.dTag\n    const alreadyLiked = reactions?.[topicEvent?.dTag ?? '']?.find(reaction => reaction.pubkey === ndk.activeUser?.pubkey)\n    if (dTag && !alreadyLiked) {\n      topicEvent\n        .react('+', true)\n        .then((reaction) => {\n          if (reaction) saveReactions({ [dTag]: [reaction] })\n          setLiking(false)\n        })\n    } else {\n      setLiking(false)\n    }\n  }\n\n  const getForumRelaySet = (): NDKRelaySet => {\n    let relays: string[] = getBaseRelays()\n\n    if (forumEvent) forumEvent.onRelays.forEach(r => relays.push(r.url))\n    if (naddr) {\n      const ref = nip19.decode(naddr)\n      // @ts-expect-error\n      relays = [...relays, ...ref.data?.relays ?? []]\n    }\n\n    return NDKRelaySet.fromRelayUrls(relays, ndk, true)\n  }\n\n  const createComment = async (): Promise<void> => {\n    setCreatingComment(true)\n    const dTag = topicEvent?.dTag\n    if (topicEvent && dTag && naddr && content && content !== '') {\n      const newComment = new NDKEvent(ndk)\n      newComment.kind = 1\n      newComment.content = content\n\n      newComment.tags.push(topicEvent.tagReference())\n      topicEvent.tags.forEach((t) => {\n        if (t[0] === 'a') newComment.tags.push(t)\n      })\n\n      if (forumEvent?.kind) newComment.tags.push(['a', forumEvent.tagReference()[1]])\n      if (replyTo) replyTo.referenceTags().forEach((t) => newComment.tags.push(t))\n\n      newComment\n        .publish(getForumRelaySet())\n        .then((result) => {\n          if (result) {\n            saveComments({ [dTag]: [newComment] })\n          }\n          setReplyTo(undefined)\n          setContent('')\n        })\n        .finally(() => setCreatingComment(false))\n    } else {\n      setCreatingComment(false)\n    }\n  }\n\n  return (\n    <Content>\n      <Row justify='space-between'>\n        <Col xs={24} md={16}>\n          <Row gutter={[0, 10]} >\n            <Col span={24}>\n              <Row>\n                <Breadcrumb\n                  items={[\n                    {\n                      title: <a>Home</a>,\n                      onClick: () => navigate('/')\n                    },\n                    {\n                      title: forumEvent ? <a>{forumEvent?.tagValue(\"name\") ?? forumEvent?.tagValue(\"d\") ?? 'All'}</a> : <Skeleton paragraph={{ rows: 1, width: 55, style: { marginTop: 0 } }} title={false} />,\n                      onClick: () => navigate(`/forum/${forumEvent?.kind ? forumEvent.encode() : 'all'}`)\n                    },\n                    {\n                      title: topicEvent?.tagValue(\"title\") ?? topicEvent?.tagValue(\"d\") ?? <Skeleton paragraph={{ rows: 1, width: 55, style: { marginTop: 0 } }} title={false} />,\n                    },\n                  ]}\n                />\n              </Row>\n            </Col>\n            <Col span='24'>\n              <Layout\n                style={{ background: colorBgContainer, borderTopLeftRadius: borderRadiusLG, borderTopRightRadius: borderRadiusLG, paddingBottom: 15 }}\n              >\n                <Row justify='space-around'>\n                  <Col span='22'>\n                    <Skeleton active loading={!topicEvent} paragraph={{ rows: 0 }} style={{ marginTop: 34 }} >\n                      <Title>{topicEvent?.tagValue(\"title\")}</Title>\n                    </Skeleton>\n                  </Col>\n                </Row>\n              </Layout>\n            </Col>\n            <Col span='24'>\n              {/* MAIN */}\n              <Layout\n                style={{ padding: '15px 0', background: colorBgContainer, borderLeftColor: colorPrimary, borderLeftWidth: 5, borderLeftStyle: 'solid' }}\n              >\n                <Row justify='space-around'>\n                  <Col span='22'>\n                    <Row>\n                      <Col style={{ width: 80 }}>\n                        <Avatar size={64} src={rootAuthor?.image} icon={!rootAuthor?.image && <PersonIcon style={{ fontSize: '45px' }} />} alt={rootAuthor?.displayName ?? rootAuthor?.name ?? t(\"shared.events.anonymous\")} />\n                      </Col>\n                      <Col style={{ width: 'calc(100% - 80px)' }}>\n                        <Row justify='start'>\n                          <Col span={24}>\n                            <Row justify='space-between'>\n                              <Skeleton active loading={!rootAuthor === undefined} paragraph={{ rows: 1, width: 100 }} style={{ marginTop: -10, marginBottom: -9, width: 100 }} title={false}>\n                                <Link strong href={`https://njump.me/${topicEvent?.author.npub}`} target=\"_blank\">\n                                  {rootAuthor?.displayName ?? rootAuthor?.name ?? t(\"shared.events.anonymous\")}\n                                </Link>\n                              </Skeleton>\n                              <Skeleton active loading={!topicEvent} paragraph={{ rows: 1, width: 100 }} style={{ marginTop: -10, marginBottom: -9, width: 100 }} title={false}>\n                                <Text strong>{t(\"shared.events.published_at\", { date: formatDistanceToNow(fromUnixTime(parseInt(topicEvent?.tagValue(\"published_at\") ?? topicEvent?.created_at?.toString() ?? \"0\", 10)), { addSuffix: true }) })}</Text>\n                              </Skeleton>\n                            </Row>\n                          </Col>\n                        </Row>\n                      </Col>\n                    </Row>\n                    <Divider />\n                    <Row>\n                      <Col span={24}>\n                        <Skeleton active loading={!topicEvent} paragraph={{ rows: 6 }} title={false}>\n                          <Markdown text={topicEvent?.content ?? ''} loadingAuthors={loadingAuthors} dTag={topicEvent?.dTag} />\n                        </Skeleton>\n                      </Col>\n                    </Row>\n                    <Divider />\n                    <Row>\n                      <Col span={24}>\n                        <Row justify=\"end\">\n                          {!turtleMode && (\n                            <Col style={{ width: 63, marginRight: 16 }}>\n                              <Text type=\"secondary\">\n                                <Skeleton active loading={!reactions?.[topicEvent?.dTag ?? ''] && loadingReactions} paragraph={{ rows: 1, width: 55 }} title={false}>\n                                  <Row justify=\"space-between\">\n                                    <Button\n                                      icon={\n                                        <FavoriteIcon color={reactions?.[topicEvent?.dTag ?? '']?.find(reaction => reaction.pubkey === ndk.activeUser?.pubkey) ? 'error' : 'inherit'} />\n                                      }\n                                      loading={liking}\n                                      onClick={() => likeTopicEvent()}\n                                    >\n                                      {reactions?.[topicEvent?.dTag ?? '']?.length ?? 0}\n                                    </Button>\n                                  </Row>\n                                </Skeleton>\n                              </Text>\n                            </Col>\n                          )}\n                          <Col style={{ width: 63, marginLeft: 16 }}>\n                            <Text type=\"secondary\">\n                              <Skeleton active loading={!comments?.[topicEvent?.dTag ?? ''] && loadingComments} paragraph={{ rows: 1, width: 55 }} title={false}>\n                                <Row justify=\"space-between\">\n                                  <Button\n                                    icon={\n                                      <SmsIcon color={comments?.[topicEvent?.dTag ?? '']?.find(comment => comment.pubkey === ndk.activeUser?.pubkey) ? 'success' : 'inherit'} />\n                                    }\n                                  >\n                                    {comments?.[topicEvent?.dTag ?? '']?.length ?? 0}\n                                  </Button>\n                                </Row>\n                              </Skeleton>\n                            </Text>\n                          </Col>\n                        </Row>\n                      </Col>\n                    </Row>\n                  </Col>\n                </Row>\n              </Layout>\n            </Col>\n            <Col span='24'>\n              {/* COMMENT */}\n              {!comments[topicEvent?.dTag ?? ''] && loadingComments ? (\n                <></>\n              ) : (\n                <Row gutter={[0, 10]} >\n                  {comments[topicEvent?.dTag ?? '']?.map((comment, i) => {\n                    const author = authors[comment.pubkey]\n                    const name = author?.displayName ?? author?.name ?? t(\"shared.events.anonymous\")\n                    const refrences = comment.getMatchingTags(\"e\")\n                    const replyId = refrences[refrences.length - 1]?.[1]\n                    const reply = replyId !== topicEvent?.id ? comments[topicEvent?.dTag ?? ''].find(c => c.id === replyId) : null\n                    return (\n                      <Col span={24} key={i}>\n                        <Layout\n                          style={{ padding: '15px 0', background: colorBgContainer, borderLeftColor: colorSuccess, borderLeftWidth: comment.pubkey === ndk.activeUser?.pubkey ? 5 : 0, borderLeftStyle: 'solid' }}\n                        >\n                          <Row justify='space-around'>\n                            <Col span='22'>\n                              <Row>\n                                <Col style={{ width: 80 }}>\n                                  <Avatar size={64} src={author?.image} icon={!author?.image && <PersonIcon style={{ fontSize: '45px' }} />} alt={name} />\n                                </Col>\n                                <Col style={{ width: 'calc(100% - 80px)' }}>\n                                  <Row justify='start'>\n                                    <Col span={24}>\n                                      <Row justify='space-between'>\n                                        <Skeleton active loading={author === undefined && loadingAuthors} paragraph={{ rows: 1, width: 100 }} style={{ marginTop: -10, marginBottom: -9, width: 100 }} title={false}>\n                                          <Link strong href={`https://njump.me/${comment?.author.npub}`} target=\"_blank\">\n                                            {name}\n                                          </Link>\n                                        </Skeleton>\n                                        <Text strong>{t(\"shared.events.published_at\", { date: formatDistanceToNow(fromUnixTime(comment.created_at ?? 0), { addSuffix: true }) })}</Text>\n                                      </Row>\n                                      <Row justify='end'>\n                                        <Button type=\"link\" onClick={() => setReplyTo(comment)}>{t(\"pages.topic.reply\")}</Button>\n                                      </Row>\n                                    </Col>\n                                  </Row>\n                                </Col>\n                              </Row>\n                              <Divider />\n                              <Row>\n                                <Col span={24}>\n                                  {reply && (\n                                    <Layout style={{ background: colorBgLayout, padding: 25, marginBottom: 10, borderLeftColor: colorTextSecondary, borderLeftWidth: 5, borderLeftStyle: 'solid' }}>\n                                      <Row>\n                                        <Col>\n                                          <Markdown text={reply.content} loadingAuthors={loadingAuthors} dTag={topicEvent?.dTag?.toString()} />\n                                        </Col>\n                                      </Row>\n                                    </Layout>\n                                  )}\n                                  <Markdown text={comment.content ?? ''} loadingAuthors={loadingAuthors} dTag={topicEvent?.dTag?.toString()} />\n                                </Col>\n                              </Row>\n                            </Col>\n                          </Row>\n                        </Layout>\n                      </Col>\n                    )\n                  })}\n                </Row>\n              )}\n            </Col>\n            <Col span='24'>\n              <Layout\n                style={{ background: colorBgContainer, padding: '15px 0' }}\n              >\n                <Row justify='space-around' gutter={[0, 10]} >\n                  <Col span='22'>\n                    <Row>\n                      {replyTo && (\n                        <Layout style={{ background: colorBgLayout, padding: 25, marginBottom: 10, borderLeftColor: colorTextSecondary, borderLeftWidth: 5, borderLeftStyle: 'solid' }}>\n                          <Row>\n                            <Col>\n                              <Markdown text={replyTo.content} loadingAuthors={loadingAuthors} dTag={topicEvent?.dTag} />\n                            </Col>\n                          </Row>\n                          <Row justify=\"end\">\n                            <Col style={{ position: \"relative\" }}>\n                              <Button type=\"link\" onClick={() => setReplyTo(undefined)}>{t('pages.topic.removeReply')}</Button>\n                            </Col>\n                          </Row>\n                        </Layout>\n                      )}\n                    </Row>\n                  </Col>\n                  <Col span='22'>\n                    <Row>\n                      <TextArea rows={6} content={content} onChange={(v) => setContent(v.target.value)} />\n                    </Row>\n                  </Col>\n                  <Col span='22'>\n                    <Row justify=\"end\">\n                      <Button loading={creatingComment} onClick={createComment} disabled={!content || content === ''} type=\"primary\" htmlType=\"submit\" size=\"large\" icon={<CommentIcon />} iconPosition=\"end\" >\n                        {t('pages.topic.createComment')}\n                      </Button>\n                    </Row>\n                  </Col>\n                </Row>\n              </Layout>\n            </Col>\n          </Row>\n        </Col>\n        <Col xs={0} md={7}>\n          <Row gutter={[0, 10]} style={{ marginTop: 32 }}>\n            <Col span={24}>\n              <ActiveUser />\n            </Col>\n            <Col span={24}>\n              <ForumsButtons />\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Content>\n  )\n}\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z\"\n}), 'Comment');","// This icon file is generated automatically.\nvar EyeOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z\" } }] }, \"name\": \"eye\", \"theme\": \"outlined\" };\nexport default EyeOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport EyeOutlinedSvg from \"@ant-design/icons-svg/es/asn/EyeOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar EyeOutlined = function EyeOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: EyeOutlinedSvg\n  }));\n};\n\n/**![eye](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTk0Mi4yIDQ4Ni4yQzg0Ny40IDI4Ni41IDcwNC4xIDE4NiA1MTIgMTg2Yy0xOTIuMiAwLTMzNS40IDEwMC41LTQzMC4yIDMwMC4zYTYwLjMgNjAuMyAwIDAwMCA1MS41QzE3Ni42IDczNy41IDMxOS45IDgzOCA1MTIgODM4YzE5Mi4yIDAgMzM1LjQtMTAwLjUgNDMwLjItMzAwLjMgNy43LTE2LjIgNy43LTM1IDAtNTEuNXpNNTEyIDc2NmMtMTYxLjMgMC0yNzkuNC04MS44LTM2Mi43LTI1NEMyMzIuNiAzMzkuOCAzNTAuNyAyNTggNTEyIDI1OGMxNjEuMyAwIDI3OS40IDgxLjggMzYyLjcgMjU0Qzc5MS41IDY4NC4yIDY3My40IDc2NiA1MTIgNzY2em0tNC00MzBjLTk3LjIgMC0xNzYgNzguOC0xNzYgMTc2czc4LjggMTc2IDE3NiAxNzYgMTc2LTc4LjggMTc2LTE3Ni03OC44LTE3Ni0xNzYtMTc2em0wIDI4OGMtNjEuOSAwLTExMi01MC4xLTExMi0xMTJzNTAuMS0xMTIgMTEyLTExMiAxMTIgNTAuMSAxMTIgMTEyLTUwLjEgMTEyLTExMiAxMTJ6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(EyeOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'EyeOutlined';\n}\nexport default RefIcon;","import ReactDOM from 'react-dom';\nexport default function addEventListenerWrap(target, eventType, cb, option) {\n  /* eslint camelcase: 2 */\n  var callback = ReactDOM.unstable_batchedUpdates ? function run(e) {\n    ReactDOM.unstable_batchedUpdates(cb, e);\n  } : cb;\n  if (target !== null && target !== void 0 && target.addEventListener) {\n    target.addEventListener(eventType, callback, option);\n  }\n  return {\n    remove: function remove() {\n      if (target !== null && target !== void 0 && target.removeEventListener) {\n        target.removeEventListener(eventType, callback, option);\n      }\n    }\n  };\n}","/* eslint-disable no-nested-ternary */\nvar PIXEL_PATTERN = /margin|padding|width|height|max|min|offset/;\nvar removePixel = {\n  left: true,\n  top: true\n};\nvar floatMap = {\n  cssFloat: 1,\n  styleFloat: 1,\n  float: 1\n};\nfunction getComputedStyle(node) {\n  return node.nodeType === 1 ? node.ownerDocument.defaultView.getComputedStyle(node, null) : {};\n}\nfunction getStyleValue(node, type, value) {\n  type = type.toLowerCase();\n  if (value === 'auto') {\n    if (type === 'height') {\n      return node.offsetHeight;\n    }\n    if (type === 'width') {\n      return node.offsetWidth;\n    }\n  }\n  if (!(type in removePixel)) {\n    removePixel[type] = PIXEL_PATTERN.test(type);\n  }\n  return removePixel[type] ? parseFloat(value) || 0 : value;\n}\nexport function get(node, name) {\n  var length = arguments.length;\n  var style = getComputedStyle(node);\n  name = floatMap[name] ? 'cssFloat' in node.style ? 'cssFloat' : 'styleFloat' : name;\n  return length === 1 ? style : getStyleValue(node, name, style[name] || node.style[name]);\n}\nexport function set(node, name, value) {\n  var length = arguments.length;\n  name = floatMap[name] ? 'cssFloat' in node.style ? 'cssFloat' : 'styleFloat' : name;\n  if (length === 3) {\n    if (typeof value === 'number' && PIXEL_PATTERN.test(name)) {\n      value = \"\".concat(value, \"px\");\n    }\n    node.style[name] = value; // Number\n    return value;\n  }\n  for (var x in name) {\n    if (name.hasOwnProperty(x)) {\n      set(node, x, name[x]);\n    }\n  }\n  return getComputedStyle(node);\n}\nexport function getOuterWidth(el) {\n  if (el === document.body) {\n    return document.documentElement.clientWidth;\n  }\n  return el.offsetWidth;\n}\nexport function getOuterHeight(el) {\n  if (el === document.body) {\n    return window.innerHeight || document.documentElement.clientHeight;\n  }\n  return el.offsetHeight;\n}\nexport function getDocSize() {\n  var width = Math.max(document.documentElement.scrollWidth, document.body.scrollWidth);\n  var height = Math.max(document.documentElement.scrollHeight, document.body.scrollHeight);\n  return {\n    width: width,\n    height: height\n  };\n}\nexport function getClientSize() {\n  var width = document.documentElement.clientWidth;\n  var height = window.innerHeight || document.documentElement.clientHeight;\n  return {\n    width: width,\n    height: height\n  };\n}\nexport function getScroll() {\n  return {\n    scrollLeft: Math.max(document.documentElement.scrollLeft, document.body.scrollLeft),\n    scrollTop: Math.max(document.documentElement.scrollTop, document.body.scrollTop)\n  };\n}\nexport function getOffset(node) {\n  var box = node.getBoundingClientRect();\n  var docElem = document.documentElement;\n\n  // < ie8 不支持 win.pageXOffset, 则使用 docElem.scrollLeft\n  return {\n    left: box.left + (window.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || document.body.clientLeft || 0),\n    top: box.top + (window.pageYOffset || docElem.scrollTop) - (docElem.clientTop || document.body.clientTop || 0)\n  };\n}"],"names":["Link","Text","Typography","Markdown","_ref","text","dTag","loadingAuthors","token","colorBgLayout","colorTextSecondary","colorBgContainerDisabled","theme","useToken","authors","comments","useContext","NostrContext","t","useTranslation","navigate","useNavigate","markdownComponent","a","props","test","href","_jsx","Row","justify","children","Image","src","fallback","target","img","code","_jsxs","Col","span","style","backgroundColor","Layout","background","padding","marginBottom","overflowX","width","eventComponent","nevent","eventText","_filterFromId","_filterFromId$E","eventId","filterFromId","find","c","id","borderLeftColor","borderLeftWidth","borderLeftStyle","Skeleton","active","loading","applyComponent","type","bech32","_nip19$decode","_authors$user$pubkey","_ref2","_profile$displayName","hexpubkey","nip19","decode","data","pubkey","user","NDKUser","profile","name","displayName","Input","size","strong","npub","mentionComponent","note1","ref","kind","naddr","identifier","Button","onClick","_Fragment","topicComponent","ReactMarkdown","remarkPlugins","remarkGfm","nostrSyntax","tree","visit","node","match","exec","value","push","replace","className","components","genSharedDividerStyle","componentCls","sizePaddingEdgeHorizontal","colorSplit","lineWidth","textPaddingInline","orientationMargin","verticalMarginInline","Object","assign","resetComponent","borderBlockStart","unit","position","top","display","height","marginInline","marginBlock","verticalAlign","borderTop","borderInlineStart","clear","minWidth","margin","dividerHorizontalGutterMargin","alignItems","dividerHorizontalWithTextGutterMargin","color","colorTextHeading","fontWeight","fontSize","fontSizeLG","whiteSpace","textAlign","borderBlockStartColor","borderBlockEnd","transform","content","paddingBlock","paddingInline","borderColor","borderStyle","borderWidth","borderInlineStartWidth","borderInlineEnd","colorText","paddingInlineStart","paddingInlineEnd","genStyleHooks","dividerToken","mergeToken","marginLG","marginXS","unitless","__rest","s","e","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","getPrefixCls","direction","divider","React","ConfigContext","prefixCls","customizePrefixCls","orientation","rootClassName","dashed","variant","plain","restProps","wrapCSSVar","hashId","cssVarCls","useStyle","hasChildren","hasCustomMarginLeft","hasCustomMarginRight","classString","classNames","memoizedOrientationMargin","Number","innerStyle","marginLeft","marginRight","role","Title","Topic","_forumEvent$tagValue","_topicEvent$tagValue","_ref3","_rootAuthor$displayNa","_ref4","_rootAuthor$displayNa2","_ref5","_topicEvent$tagValue2","_topicEvent$created_a","_topicEvent$content","_topicEvent$dTag3","_reactions2","_topicEvent$dTag4","_reactions$length","_reactions3","_topicEvent$dTag5","_topicEvent$dTag6","_comments","_topicEvent$dTag7","_comments$length","_comments2","_topicEvent$dTag8","_topicEvent$dTag9","_comments3","_topicEvent$dTag10","turtleMode","AppContext","ndk","saveAuthors","reactions","saveReactions","saveComments","topics","saveTopics","forums","saveForums","getBaseRelays","useParams","colorBgContainer","borderRadiusLG","colorPrimary","colorSuccess","forumEvent","setForumEvent","useState","topicEvent","setTopicEvent","rootAuthor","setRootAuthor","creatingComment","setCreatingComment","setLoadingAuthors","loadingComments","setLoadingComments","loadingReactions","setLoadingReactions","liking","setLiking","setContent","replyTo","setReplyTo","useEffect","_filters$A","fetchEvent","closeOnEose","getForumRelaySet","then","event","_mainReference$1$spli","mainReference","tags","startsWith","mainDTag","split","fetchEvents","fEvent","encode","NDKEvent","filters","filterForEventsTaggingId","kinds","eventsList","commList","reactList","forEach","map","list","profileFromEvent","undefined","_topicEvent$dTag","toString","getMatchingTags","relays","onRelays","r","url","_ref$data$relays","_ref$data","NDKRelaySet","fromRelayUrls","Content","xs","md","gutter","Breadcrumb","items","title","tagValue","paragraph","rows","marginTop","borderTopLeftRadius","borderTopRightRadius","paddingBottom","Avatar","image","icon","PersonIcon","alt","author","date","formatDistanceToNow","fromUnixTime","parseInt","created_at","addSuffix","Divider","FavoriteIcon","reaction","_ndk$activeUser2","activeUser","likeTopicEvent","_reactions","_topicEvent$dTag2","alreadyLiked","_ndk$activeUser","react","SmsIcon","comment","_ndk$activeUser3","_ref6","_author$displayName","_refrences","_topicEvent$dTag11","_ndk$activeUser4","_comment$created_at","_topicEvent$dTag12","_comment$content","_topicEvent$dTag13","refrences","replyId","reply","TextArea","onChange","v","async","newComment","tagReference","referenceTags","publish","result","finally","disabled","htmlType","CommentIcon","iconPosition","ActiveUser","ForumsButtons","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","default","jsx","d","EyeOutlined","AntdIcon","_extends","EyeOutlinedSvg","addEventListenerWrap","eventType","cb","option","callback","ReactDOM","addEventListener","remove","removeEventListener","getClientSize","document","documentElement","clientWidth","window","innerHeight","clientHeight","getOffset","box","getBoundingClientRect","docElem","left","pageXOffset","scrollLeft","clientLeft","body","pageYOffset","scrollTop","clientTop"],"sourceRoot":""}