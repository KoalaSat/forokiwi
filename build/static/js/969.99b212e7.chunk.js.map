{"version":3,"file":"static/js/969.99b212e7.chunk.js","mappings":"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","sources":["app/components/Markdown/index.tsx","app/pages/NewTopic/index.tsx"],"sourcesContent":["import { NDKUser, filterFromId } from \"@nostr-dev-kit/ndk\";\nimport { Skeleton, Typography, Image, Col, Layout, Row, theme, Button } from \"antd\";\nimport { UseNostrStoreType, NostrContext } from \"app/contexts/NostrContext\";\nimport { useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\nimport { visit } from 'unist-util-visit';\nimport { nip19 } from 'nostr-tools'\nimport { useNavigate } from \"react-router-dom\";\n\nconst { Link, Text } = Typography;\n\ninterface MarkdownProps {\n  text: string\n  dTag?: string\n  loadingAuthors?: boolean\n}\n\nexport const Markdown: React.FC<MarkdownProps> = ({ text, dTag, loadingAuthors }) => {\n  const {\n    token: { colorBgLayout, colorTextSecondary, colorBgContainerDisabled },\n  } = theme.useToken();\n  const { authors, comments } = useContext<UseNostrStoreType>(NostrContext);\n  const { t } = useTranslation()\n  const navigate = useNavigate();\n  const markdownComponent = {\n    a: props => {\n      const imageRegex = /\\.(jpg|jpeg|png|gif|bmp|webp|svg)$/i\n      return imageRegex.test(props.href) ?\n        <Row justify=\"center\">\n          <Image\n            src={props.href}\n            fallback=\"data:image/png;base64,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\"\n          />\n        </Row>\n        : <Link target=\"_blank\" href={props.href}>{props.children}</Link>\n    },\n    img: props => {\n      return <Row justify=\"center\">\n        <Image\n          src={props.src}\n          fallback=\"data:image/png;base64,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\"\n        />\n      </Row>\n    },\n    code: props => {\n      return (\n        <Col span={24}>\n          <Row style={{ backgroundColor: colorBgContainerDisabled }} justify=\"center\">\n            <Col span={23}>\n              <Text>{t('components.markDown.code')}</Text>\n            </Col>\n          </Row>\n          <Row justify=\"center\">\n            <Layout\n              style={{\n                background: colorBgLayout,\n                padding: 25,\n                marginBottom: 10,\n                overflowX: 'auto',\n                width: 300\n              }}\n            >\n              {props.children}\n            </Layout>\n          </Row>\n        </Col>\n      )\n    },\n  }\n\n  const mentionComponent = (npub: string): JSX.Element => {\n    const user = new NDKUser({ npub })\n    const profile = authors?.[user.pubkey] ?? user?.profile\n    const name: string = profile?.displayName ?? profile?.name ?? t(\"shared.events.anonymous\")\n    return loadingAuthors ?\n      <Skeleton.Input size=\"small\" active />\n      : <Link strong href={`https://njump.me/${npub}`} target=\"_blank\">{name}</Link>\n  }\n\n  const eventComponent = (nevent: string): JSX.Element => {\n    let eventText\n    if (dTag) {\n      const eventId = filterFromId(nevent)?.['#e']?.[0]\n      eventText = comments[dTag].find(c => c.id === eventId)\n    }\n    return (\n      <Layout style={{ background: colorBgLayout, padding: 25, marginBottom: 10, borderLeftColor: colorTextSecondary, borderLeftWidth: 5, borderLeftStyle: 'solid' }}>\n        <Row>\n          <Col>\n            <Skeleton active loading={!eventText}>\n              {eventText}\n            </Skeleton>\n          </Col>\n        </Row>\n      </Layout>\n    )\n  }\n\n  const noteComponent = (note1: string): JSX.Element => {\n    return (\n      <Layout style={{ background: colorBgLayout, padding: 25, marginBottom: 10, borderLeftColor: colorTextSecondary, borderLeftWidth: 5, borderLeftStyle: 'solid' }}>\n        <Row>\n          <Col>\n            <Link strong href={`https://njump.me/${note1}`} target=\"_blank\">{t('components.markDown.seeNote')}</Link>\n          </Col>\n        </Row>\n      </Layout>\n    )\n  }\n\n  const topicComponent = (naddr: string, identifier: string): JSX.Element => {\n    if (!identifier || identifier === dTag) return <></>\n    return (\n      <Row>\n        <Col>\n          <Button type=\"link\" onClick={() => navigate(`/topic/${naddr}`)}>\n            {t('components.markDown.identifier', { identifier })}\n          </Button>\n        </Col>\n      </Row>\n    )\n  }\n\n  const applyComponent = (type: string, bech32: string): JSX.Element => {\n    if (type === 'npub' || type === 'nprofile') {\n      return mentionComponent(bech32)\n    } else if (type === 'nevent') {\n      return eventComponent(bech32)\n    } else if (type === 'note1') {\n      return noteComponent(bech32)\n    } else if (type === 'naddr') {\n      const ref = nip19.decode(bech32)\n      // @ts-expect-error\n      if (ref.data.kind === 30023) {\n        // @ts-expect-error\n        return topicComponent(bech32, ref.data.identifier)\n      } else {\n        return eventComponent(bech32)\n      }\n    } else {\n      return <></>\n    }\n  }\n\n\n  const nostrSyntax = (): (tree: any) => void => {\n    return (tree) => {\n      visit(tree, 'text', (node) => {\n        const regex = /(?:nostr:)?((naddr|nevent|npub|nprofile|note1)[a-zA-Z0-9]+)/g\n        const match = regex.exec(node.value)\n        if (match) {\n          node.type = 'root';\n          node.children = []\n          node.children.push({\n            type: 'custom',\n            value: applyComponent(match[2], match[1]),\n          });\n          node.children.push({\n            type: 'text',\n            value: node.value.replace(match[0], \"\"),\n          });\n        }\n      });\n    };\n  };\n\n  const parseHTML = (): string => {\n    return text.replace(/<img\\s+src=\"([^\"]+)\"\\s*[^>]*>/g, (match, src) => {\n      const altText = 'Image';\n      return `![${altText}](${src})`;\n    });\n  }\n\n  return (\n    <ReactMarkdown remarkPlugins={[remarkGfm, nostrSyntax]} className={\"markdown-container\"} components={markdownComponent}>\n      {parseHTML()}\n    </ReactMarkdown>\n  )\n}\n","import { Breadcrumb, Button, Col, Input, Row, Select, Skeleton, Tabs, Typography, theme } from \"antd\";\nimport Layout, { Content } from \"antd/es/layout/layout\"\nimport { useTranslation } from \"react-i18next\";\nimport NoteAddIcon from '@mui/icons-material/NoteAdd';\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useContext, useEffect, useMemo, useState } from \"react\";\nimport { UseNostrStoreType, NostrContext } from \"app/contexts/NostrContext\";\nimport { NDKEvent, NDKRelaySet, filterForEventsTaggingId } from \"@nostr-dev-kit/ndk\";\nimport { getUnixTime } from \"date-fns\";\nimport { ActiveUser } from \"app/components/ActiveUser\";\nimport { nip19 } from \"nostr-tools\";\nimport ReactMde from \"react-mde\";\nimport { AppContext, UseAppStoreType } from \"app/contexts/AppContext\";\nimport ReactCountryFlag from \"react-country-flag\";\nimport { languages } from \"../../../constants\";\nimport { Markdown } from \"app/components/Markdown\";\n\nconst { Title } = Typography;\n\nexport const NewTopic: () => JSX.Element = () => {\n  const { language, setLanguage, isDarkMode } = useContext<UseAppStoreType>(AppContext);\n  const { ndk, saveTopics, forums, saveForums, getBaseRelays } = useContext<UseNostrStoreType>(NostrContext);\n  const { t } = useTranslation()\n  const { naddr } = useParams();\n  const navigate = useNavigate();\n  const {\n    token: { colorBgContainer, borderRadiusLG },\n  } = theme.useToken();\n  const [content, setContent] = useState<string>()\n  const [forumTitle, setForumTitle] = useState<string>()\n  const [title, setTitle] = useState<string>()\n  const [forumEvent, setForumEvent] = useState<NDKEvent>()\n\n  useEffect(() => {\n    if (naddr && naddr !== 'all') {\n      if (forums[naddr]) setForumEvent(forums[naddr])\n      ndk.fetchEvent(naddr, { closeOnEose: true }).then((event) => {\n        if (event?.dTag) {\n          setForumEvent(event)\n          saveForums({ [naddr]: event, [event.dTag]: event })\n        }\n      })\n    }\n\n    return () => {\n      setForumEvent(undefined)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (forumEvent) {\n      setForumTitle(forumEvent?.tagValue(\"name\") ?? forumEvent.tagValue(\"d\"))\n    } else if (naddr === 'all') {\n      setForumTitle(t(\"pages.forums.list.all.name\"))\n    }\n  }, [forumEvent])\n\n  const getForumRelaySet = (): NDKRelaySet => {\n    let relays: string[] = getBaseRelays()\n\n    if (forumEvent) {\n      forumEvent.onRelays.forEach(r => relays.push(r.url))\n    }\n    if (naddr) {\n      const ref = nip19.decode(naddr)\n      // @ts-expect-error\n      relays = [...relays, ...ref.data?.relays ?? []]\n    }\n\n    return NDKRelaySet.fromRelayUrls(relays, ndk, true)\n  }\n\n  const createTopic = async (): Promise<void> => {\n    if (naddr && content && title) {\n      const topicEvent = new NDKEvent(ndk)\n      topicEvent.kind = 30023\n      topicEvent.content = content\n\n      await topicEvent.generateTags()\n\n      if (naddr !== 'all') {\n        const forumTag = filterForEventsTaggingId(naddr)?.['#a']\n        if (forumTag) topicEvent.tags.push(['a', forumTag[0]])\n      }\n\n      topicEvent.tags.push(['title', title])\n      topicEvent.tags.push(['published_at', getUnixTime(new Date()).toString()])\n      topicEvent.tags.push(['L', \"ISO-639-1\"])\n      topicEvent.tags.push(['l', language.value.split(\"-\")[0], \"ISO-639-1\"])\n\n      topicEvent\n        .publish(getForumRelaySet())\n        .then((result) => {\n          if (result && topicEvent.dTag) {\n            const newNaddr = topicEvent.encode()\n            saveTopics({ [topicEvent.dTag]: topicEvent })\n            navigate(`/topic/${newNaddr}`)\n          }\n        })\n    }\n  }\n\n  const changeLanguage = (langCode: string): void => {\n    const selected = languages.find((lang) => langCode === lang.value)\n    if (selected) {\n      setLanguage(selected)\n    }\n  }\n\n  const editor = (\n    <Row>\n      <Col span={24}>\n        <ReactMde\n          disablePreview\n          classes={{\n            reactMde: 'mde-box',\n            toolbar: 'mde-toolbar',\n            textArea: isDarkMode ? 'mde-textarea-dark' : 'mde-textarea-light'\n          }}\n          value={content}\n          onChange={setContent}\n        />\n      </Col>\n    </Row>\n  )\n\n  const preview = useMemo(() => (\n    <Markdown text={content ?? ''} />\n  ), [content])\n\n  return (\n    <Content>\n      <Row justify='space-between'>\n        <Col xs={24} md={16}>\n          <Row gutter={[0, 10]} >\n            <Col span={24}>\n              <Row>\n                <Breadcrumb\n                  items={[\n                    {\n                      title: <a>Home</a>,\n                      onClick: () => navigate('/')\n                    },\n                    {\n                      title: forumTitle ? <a>{forumTitle}</a> : <Skeleton paragraph={{ rows: 1, width: 55, style: { marginTop: 0 } }} title={false} />,\n                      onClick: () => navigate(`/forum/${forumEvent?.kind ? forumEvent.encode() : 'all'}`)\n                    },\n                    {\n                      title: t('pages.newTopic.createTopic'),\n                    },\n                  ]}\n                />\n              </Row>\n            </Col>\n            <Col span='24'>\n              <Layout\n                style={{ background: colorBgContainer, borderRadius: borderRadiusLG, padding: '15px 0' }}\n              >\n                <Row justify='space-around' gutter={[0, 10]} >\n                  <Col span='22'>\n                    <Row>\n                      <Title level={2}>{t('pages.newTopic.title')}</Title>\n                    </Row>\n                    <Row>\n                      <Input onChange={(v) => setTitle(v.target.value)} />\n                    </Row>\n                  </Col>\n                  <Col span='22'>\n                    <Tabs\n                      defaultActiveKey=\"editor\"\n                      size=\"large\"\n                      items={[\n                        {\n                          key: 'editor',\n                          label: t('pages.newTopic.editor'),\n                          children: editor\n                        },\n                        {\n                          key: '2',\n                          label: t('pages.newTopic.preview'),\n                          children: preview\n                        }\n                      ]}\n                    />\n                  </Col>\n                  <Col span='22'>\n                    <Row justify=\"end\" align=\"middle\" gutter={[10, 0]}>\n                      <Col xs={0} md={2}>\n                        <Row justify=\"end\">\n                          <ReactCountryFlag\n                            countryCode={language.value.split('-')[1]}\n                            style={{ fontSize: 26 }}\n                          />\n                        </Row>\n                      </Col>\n                      <Col>\n                        <Row justify=\"space-between\" gutter={[10, 0]}>\n                          <Col>\n                            <Select\n                              showSearch\n                              size=\"large\"\n                              style={{ width: 120 }}\n                              onChange={changeLanguage}\n                              defaultValue={language.value}\n                              filterOption={(input, option) =>\n                                (option?.label as string ?? '').toLowerCase().includes(input.toLowerCase())\n                              }\n                              options={languages\n                                .filter((item, index, self) =>\n                                  index === self.findIndex((t) => t.label === item.label)\n                                )\n                                .map(lang => {\n                                  return { ...lang, label: t(`language.${lang.label}`) }\n                                })}\n                            />\n                          </Col>\n                          <Col>\n                            <Button\n                              disabled={!content || content === '' || !title || title === ''}\n                              type=\"primary\"\n                              htmlType=\"submit\"\n                              size=\"large\"\n                              icon={<NoteAddIcon />}\n                              iconPosition=\"end\"\n                              onClick={createTopic}\n                            >\n                              {t('pages.newTopic.createTopic')}\n                            </Button>\n                          </Col>\n                        </Row>\n                      </Col>\n                    </Row>\n                  </Col>\n                </Row>\n              </Layout>\n            </Col>\n          </Row>\n        </Col >\n        <Col xs={0} md={7}>\n          <Row gutter={[0, 10]} style={{ marginTop: 32 }} >\n            <Col span={24}>\n              <ActiveUser />\n            </Col>\n          </Row>\n        </Col>\n      </Row >\n    </Content >\n  )\n}\n"],"names":["Link","Text","Typography","Markdown","_ref","text","dTag","loadingAuthors","token","colorBgLayout","colorTextSecondary","colorBgContainerDisabled","theme","useToken","authors","comments","useContext","NostrContext","t","useTranslation","navigate","useNavigate","markdownComponent","a","props","test","href","_jsx","Row","justify","children","Image","src","fallback","target","img","code","_jsxs","Col","span","style","backgroundColor","Layout","background","padding","marginBottom","overflowX","width","eventComponent","nevent","eventText","_filterFromId","_filterFromId$E","eventId","filterFromId","find","c","id","borderLeftColor","borderLeftWidth","borderLeftStyle","Skeleton","active","loading","applyComponent","type","bech32","npub","_authors$user$pubkey","_ref2","_profile$displayName","user","NDKUser","profile","pubkey","name","displayName","Input","size","strong","mentionComponent","note1","ref","nip19","decode","data","kind","naddr","identifier","Button","onClick","_Fragment","topicComponent","ReactMarkdown","remarkPlugins","remarkGfm","nostrSyntax","tree","visit","node","match","exec","value","push","replace","className","components","Title","NewTopic","language","setLanguage","isDarkMode","AppContext","ndk","saveTopics","forums","saveForums","getBaseRelays","useParams","colorBgContainer","borderRadiusLG","content","setContent","useState","forumTitle","setForumTitle","title","setTitle","forumEvent","setForumEvent","useEffect","fetchEvent","closeOnEose","then","event","undefined","_forumEvent$tagValue","tagValue","editor","ReactMde","disablePreview","classes","reactMde","toolbar","textArea","onChange","preview","useMemo","Content","xs","md","gutter","Breadcrumb","items","paragraph","rows","marginTop","encode","borderRadius","level","v","Tabs","defaultActiveKey","key","label","align","ReactCountryFlag","countryCode","split","fontSize","Select","showSearch","langCode","selected","languages","lang","defaultValue","filterOption","input","option","toLowerCase","includes","options","filter","item","index","self","findIndex","map","disabled","htmlType","icon","NoteAddIcon","iconPosition","async","topicEvent","NDKEvent","generateTags","_filterForEventsTaggi","forumTag","filterForEventsTaggingId","tags","getUnixTime","Date","toString","publish","getForumRelaySet","relays","onRelays","forEach","r","url","_ref$data$relays","_ref$data","NDKRelaySet","fromRelayUrls","result","newNaddr","ActiveUser"],"sourceRoot":""}