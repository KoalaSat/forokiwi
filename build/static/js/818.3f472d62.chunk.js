"use strict";(self.webpackChunkforokiwi=self.webpackChunkforokiwi||[]).push([[818],{7818:(A,e,n)=>{n.r(e),n.d(e,{Topic:()=>M});var i=n(2691),o=n(2177),d=n(6520),l=n(1667),s=n(835),t=n(9900),r=n(7170),a=n(7419),g=n(1645),c=n(8125),E=n(481),h=n(2245),u=n(8354),Q=n(7021),v=n(5448),j=n(1690),B=n(3007),x=n(2393),y=n(5043),p=n(9092),k=n(6971),C=n(8860),m=n(903),b=n(8494),I=n(5215),f=n(4723),N=n(2595),S=n(579);const{Link:J,Text:K}=t.A,w=A=>{let{text:e,dTag:n,loadingAuthors:o}=A;const{token:{colorBgLayout:d,colorTextSecondary:l,colorBgContainerDisabled:s}}=r.A.useToken(),{authors:t,comments:c}=(0,y.useContext)(j.gH),{t:h}=(0,p.B)(),u=(0,k.Zp)(),v={a:A=>/\.(jpg|jpeg|png|gif|bmp|webp|svg)$/i.test(A.href)?(0,S.jsx)(a.A,{justify:"center",children:(0,S.jsx)(C.A,{src:A.href,fallback:"data:image/png;base64,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"})}):(0,S.jsx)(J,{target:"_blank",href:A.href,children:A.children}),img:A=>(0,S.jsx)(a.A,{justify:"center",children:(0,S.jsx)(C.A,{src:A.src,fallback:"data:image/png;base64,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"})}),code:A=>(0,S.jsxs)(g.A,{span:24,children:[(0,S.jsx)(a.A,{style:{backgroundColor:s},justify:"center",children:(0,S.jsx)(g.A,{span:23,children:(0,S.jsx)(K,{children:h("components.markDown.code")})})}),(0,S.jsx)(a.A,{justify:"center",children:(0,S.jsx)(m.A,{style:{background:d,padding:25,marginBottom:10,overflowX:"auto",width:300},children:A.children})})]})},B=A=>{let e;if(n){var o,s;const d=null===(o=(0,i.uL)(A))||void 0===o||null===(s=o["#e"])||void 0===s?void 0:s[0];e=c[n].find((A=>A.id===d))}return(0,S.jsx)(m.A,{style:{background:d,padding:25,marginBottom:10,borderLeftColor:l,borderLeftWidth:5,borderLeftStyle:"solid"},children:(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{children:(0,S.jsx)(E.A,{active:!0,loading:!e,children:e})})})})},x=(A,e)=>{if("npub"===A||"nprofile"===A)return(A=>{var e,n,d;const l=new i.VT({npub:A}),s=null!==(e=null===t||void 0===t?void 0:t[l.pubkey])&&void 0!==e?e:null===l||void 0===l?void 0:l.profile,r=null!==(n=null!==(d=null===s||void 0===s?void 0:s.displayName)&&void 0!==d?d:null===s||void 0===s?void 0:s.name)&&void 0!==n?n:h("shared.events.anonymous");return o?(0,S.jsx)(E.A.Input,{size:"small",active:!0}):(0,S.jsx)(J,{strong:!0,href:`https://njump.me/${A}`,target:"_blank",children:r})})(e);if("nevent"===A)return B(e);if("naddr"===A){const A=N.Qe.decode(e);return 30023===A.data.kind?(d=e,(l=A.data.identifier)&&l!==n?(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{children:(0,S.jsx)(Q.Ay,{type:"link",onClick:()=>u(`/topic/${d}`),children:h("components.markDown.identifier",{identifier:l})})})}):(0,S.jsx)(S.Fragment,{})):B(e)}return(0,S.jsx)(S.Fragment,{});var d,l};return(0,S.jsx)(b.o,{remarkPlugins:[I.A,()=>A=>{(0,f.YR)(A,"text",(A=>{const e=/(?:nostr:)?((naddr|nevent|npub|nprofile)[a-zA-Z0-9]+)/g.exec(A.value);e&&(A.type="root",A.children=[],A.children.push({type:"custom",value:x(e[2],e[1])}),A.children.push({type:"text",value:A.value.replace(e[0],"")}))}))}],className:"markdown-container",components:v,children:e.replace(/<img\s+src="([^"]+)"\s*[^>]*>/g,((A,e)=>`![Image](${e})`))})};var R=n(798),T=n(1875),U=n(9997),L=n(7763);const{Title:Y,Text:z,Link:H}=t.A,M=()=>{var A,e,n,t,C,m,b,I,f,J,K,M,F,P,D,Z,G,q,X,W,O,V,_,$,AA,eA,nA;const{turtleMode:iA}=(0,y.useContext)(L.BR),{ndk:oA,authors:dA,saveAuthors:lA,reactions:sA,saveReactions:tA,comments:rA,saveComments:aA,topics:gA,saveTopics:cA,forums:EA,saveForums:hA,getBaseRelays:uA}=(0,y.useContext)(j.gH),{naddr:QA}=(0,k.g)(),vA=(0,k.Zp)(),{t:jA}=(0,p.B)(),{token:{colorBgContainer:BA,borderRadiusLG:xA,colorPrimary:yA,colorBgLayout:pA,colorTextSecondary:kA,colorSuccess:CA}}=r.A.useToken(),[mA,bA]=(0,y.useState)(),[IA,fA]=(0,y.useState)(),[NA,SA]=(0,y.useState)(),[JA,KA]=(0,y.useState)(!0),[wA,RA]=(0,y.useState)(!0),[TA,UA]=(0,y.useState)(!0),[LA,YA]=(0,y.useState)(!1),[zA,HA]=(0,y.useState)(),[MA,FA]=(0,y.useState)();(0,y.useEffect)((()=>{if(QA){var A;if(gA[QA]){const A=gA[QA].pubkey;fA(gA[QA]),dA[A]&&SA(dA[A])}oA.fetchEvent(QA,{closeOnEose:!0},PA()).then((A=>{if(A){var e;fA(A),A.dTag&&cA({[A.dTag]:A});const n=A.tags.find((A=>"a"===A[0]&&A[1].startsWith("34550:"))),o=null===n||void 0===n||null===(e=n[1].split(":"))||void 0===e?void 0:e[2];o?(EA[o]&&bA(EA[o]),oA.fetchEvents({"#d":[o]},{closeOnEose:!0},PA()).then((A=>{const e=[...A][0];e?(bA(e),hA({[e.encode()]:e,[o]:e})):bA(new i.QB)}))):bA(new i.QB)}else bA(new i.QB)}));const e=(0,i.bY)(QA),n=null===e||void 0===e||null===(A=e["#a"])||void 0===A?void 0:A[0].split(":")[2],o=[1];iA||o.push(7),n&&oA.fetchEvents({...e,kinds:o},{},PA()).then((A=>{const e=[],o=[];A.forEach((A=>{switch(A.kind){case 1:e.push(A);break;case 7:o.push(A)}})),oA.fetchEvents({kinds:[0],authors:e.map((A=>A.pubkey))},{closeOnEose:!0},PA()).then((A=>{const e={};A.forEach((A=>{e[A.pubkey]=(0,i.o_)(A)})),lA(e),KA(!1)})),aA({[n]:e}),tA({[n]:o}),UA(!1),RA(!1)}))}return()=>{fA(void 0)}}),[]),(0,y.useEffect)((()=>{if(IA){var A;if(null===(A=IA.dTag)||void 0===A?void 0:A.toString()){KA(!0);const A=[...IA.getMatchingTags("p").map((A=>A[1])),IA.pubkey];oA.fetchEvents({kinds:[0],authors:A},{closeOnEose:!0},PA()).then((A=>{const e={};A.forEach((A=>{e[A.pubkey]=(0,i.o_)(A),e[A.pubkey]&&SA(e[A.pubkey])})),lA(e),KA(!1)}))}}}),[IA]);const PA=()=>{let A=uA();if(mA&&mA.onRelays.forEach((e=>A.push(e.url))),QA){var e,n;const i=N.Qe.decode(QA);A=[...A,...null!==(e=null===(n=i.data)||void 0===n?void 0:n.relays)&&void 0!==e?e:[]]}return i.P0.fromRelayUrls(A,oA,!0)};return(0,S.jsx)(v.UC,{children:(0,S.jsxs)(a.A,{justify:"space-between",children:[(0,S.jsx)(g.A,{xs:24,md:16,children:(0,S.jsxs)(a.A,{gutter:[0,10],children:[(0,S.jsx)(g.A,{span:24,children:(0,S.jsx)(a.A,{children:(0,S.jsx)(c.A,{items:[{title:(0,S.jsx)("a",{children:"Home"}),onClick:()=>vA("/")},{title:mA?(0,S.jsx)("a",{children:null!==(A=null!==(e=null===mA||void 0===mA?void 0:mA.tagValue("name"))&&void 0!==e?e:null===mA||void 0===mA?void 0:mA.tagValue("d"))&&void 0!==A?A:"All"}):(0,S.jsx)(E.A,{paragraph:{rows:1,width:55,style:{marginTop:0}},title:!1}),onClick:()=>vA(`/forum/${null!==mA&&void 0!==mA&&mA.kind?mA.encode():"all"}`)},{title:null!==(n=null!==(t=null===IA||void 0===IA?void 0:IA.tagValue("title"))&&void 0!==t?t:null===IA||void 0===IA?void 0:IA.tagValue("d"))&&void 0!==n?n:(0,S.jsx)(E.A,{paragraph:{rows:1,width:55,style:{marginTop:0}},title:!1})}]})})}),(0,S.jsx)(g.A,{span:"24",children:(0,S.jsx)(v.Ay,{style:{background:BA,borderTopLeftRadius:xA,borderTopRightRadius:xA,paddingBottom:15},children:(0,S.jsx)(a.A,{justify:"space-around",children:(0,S.jsx)(g.A,{span:"22",children:(0,S.jsx)(E.A,{active:!0,loading:!IA,paragraph:{rows:0},style:{marginTop:34},children:(0,S.jsx)(Y,{children:null===IA||void 0===IA?void 0:IA.tagValue("title")})})})})})}),(0,S.jsx)(g.A,{span:"24",children:(0,S.jsx)(v.Ay,{style:{padding:"15px 0",background:BA,borderLeftColor:yA,borderLeftWidth:5,borderLeftStyle:"solid"},children:(0,S.jsx)(a.A,{justify:"space-around",children:(0,S.jsxs)(g.A,{span:"22",children:[(0,S.jsxs)(a.A,{children:[(0,S.jsx)(g.A,{style:{width:80},children:(0,S.jsx)(h.A,{size:64,src:null===NA||void 0===NA?void 0:NA.image,icon:!(null!==NA&&void 0!==NA&&NA.image)&&(0,S.jsx)(o.A,{style:{fontSize:"45px"}}),alt:null!==(C=null!==(m=null===NA||void 0===NA?void 0:NA.displayName)&&void 0!==m?m:null===NA||void 0===NA?void 0:NA.name)&&void 0!==C?C:jA("shared.events.anonymous")})}),(0,S.jsx)(g.A,{style:{width:"calc(100% - 80px)"},children:(0,S.jsx)(a.A,{justify:"start",children:(0,S.jsx)(g.A,{span:24,children:(0,S.jsxs)(a.A,{justify:"space-between",children:[(0,S.jsx)(E.A,{active:!0,loading:void 0===!NA,paragraph:{rows:1,width:100},style:{marginTop:-10,marginBottom:-9,width:100},title:!1,children:(0,S.jsx)(H,{strong:!0,href:`https://njump.me/${null===IA||void 0===IA?void 0:IA.author.npub}`,target:"_blank",children:null!==(b=null!==(I=null===NA||void 0===NA?void 0:NA.displayName)&&void 0!==I?I:null===NA||void 0===NA?void 0:NA.name)&&void 0!==b?b:jA("shared.events.anonymous")})}),(0,S.jsx)(E.A,{active:!0,loading:!IA,paragraph:{rows:1,width:100},style:{marginTop:-10,marginBottom:-9,width:100},title:!1,children:(0,S.jsx)(z,{strong:!0,children:jA("shared.events.published_at",{date:(0,B.m)((0,x.S)(parseInt(null!==(f=null!==(J=null===IA||void 0===IA?void 0:IA.tagValue("published_at"))&&void 0!==J?J:null===IA||void 0===IA||null===(K=IA.created_at)||void 0===K?void 0:K.toString())&&void 0!==f?f:"0",10)),{addSuffix:!0})})})})]})})})})]}),(0,S.jsx)(u.A,{}),(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{span:24,children:(0,S.jsx)(E.A,{active:!0,loading:!IA,paragraph:{rows:6},title:!1,children:(0,S.jsx)(w,{text:null!==(M=null===IA||void 0===IA?void 0:IA.content)&&void 0!==M?M:"",loadingAuthors:JA,dTag:null===IA||void 0===IA?void 0:IA.dTag})})})}),(0,S.jsx)(u.A,{}),(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{span:24,children:(0,S.jsxs)(a.A,{justify:"end",children:[!iA&&(0,S.jsx)(g.A,{style:{width:63,marginRight:16},children:(0,S.jsx)(z,{type:"secondary",children:(0,S.jsx)(E.A,{active:!0,loading:!(null!==sA&&void 0!==sA&&sA[null!==(F=null===IA||void 0===IA?void 0:IA.dTag)&&void 0!==F?F:""])&&TA,paragraph:{rows:1,width:55},title:!1,children:(0,S.jsx)(a.A,{justify:"space-between",children:(0,S.jsx)(Q.Ay,{icon:(0,S.jsx)(d.A,{color:null!==sA&&void 0!==sA&&null!==(P=sA[null!==(D=null===IA||void 0===IA?void 0:IA.dTag)&&void 0!==D?D:""])&&void 0!==P&&P.find((A=>{var e;return A.pubkey===(null===(e=oA.activeUser)||void 0===e?void 0:e.pubkey)}))?"error":"inherit"}),loading:LA,onClick:()=>(()=>{var A,e;YA(!0);const n=null===IA||void 0===IA?void 0:IA.dTag,i=null===sA||void 0===sA||null===(A=sA[null!==(e=null===IA||void 0===IA?void 0:IA.dTag)&&void 0!==e?e:""])||void 0===A?void 0:A.find((A=>{var e;return A.pubkey===(null===(e=oA.activeUser)||void 0===e?void 0:e.pubkey)}));n&&!i?IA.react("+",!0).then((A=>{A&&tA({[n]:[A]}),YA(!1)})):YA(!1)})(),children:null!==(Z=null===sA||void 0===sA||null===(G=sA[null!==(q=null===IA||void 0===IA?void 0:IA.dTag)&&void 0!==q?q:""])||void 0===G?void 0:G.length)&&void 0!==Z?Z:0})})})})}),(0,S.jsx)(g.A,{style:{width:63,marginLeft:16},children:(0,S.jsx)(z,{type:"secondary",children:(0,S.jsx)(E.A,{active:!0,loading:!(null!==rA&&void 0!==rA&&rA[null!==(X=null===IA||void 0===IA?void 0:IA.dTag)&&void 0!==X?X:""])&&wA,paragraph:{rows:1,width:55},title:!1,children:(0,S.jsx)(a.A,{justify:"space-between",children:(0,S.jsx)(Q.Ay,{icon:(0,S.jsx)(l.A,{color:null!==rA&&void 0!==rA&&null!==(W=rA[null!==(O=null===IA||void 0===IA?void 0:IA.dTag)&&void 0!==O?O:""])&&void 0!==W&&W.find((A=>{var e;return A.pubkey===(null===(e=oA.activeUser)||void 0===e?void 0:e.pubkey)}))?"success":"inherit"}),children:null!==(V=null===rA||void 0===rA||null===(_=rA[null!==($=null===IA||void 0===IA?void 0:IA.dTag)&&void 0!==$?$:""])||void 0===_?void 0:_.length)&&void 0!==V?V:0})})})})})]})})})]})})})}),(0,S.jsx)(g.A,{span:"24",children:!rA[null!==(AA=null===IA||void 0===IA?void 0:IA.dTag)&&void 0!==AA?AA:""]&&wA?(0,S.jsx)(S.Fragment,{}):(0,S.jsx)(a.A,{gutter:[0,10],children:null===(eA=rA[null!==(nA=null===IA||void 0===IA?void 0:IA.dTag)&&void 0!==nA?nA:""])||void 0===eA?void 0:eA.map(((A,e)=>{var n,i,d,l,s,t,r,c,j;const y=dA[A.pubkey],p=null!==(n=null!==(i=null===y||void 0===y?void 0:y.displayName)&&void 0!==i?i:null===y||void 0===y?void 0:y.name)&&void 0!==n?n:jA("shared.events.anonymous"),k=A.getMatchingTags("e"),C=null===(d=k[k.length-1])||void 0===d?void 0:d[1],m=C!==(null===IA||void 0===IA?void 0:IA.id)?rA[null!==(l=null===IA||void 0===IA?void 0:IA.dTag)&&void 0!==l?l:""].find((A=>A.id===C)):null;return(0,S.jsx)(g.A,{span:24,children:(0,S.jsx)(v.Ay,{style:{padding:"15px 0",background:BA,borderLeftColor:CA,borderLeftWidth:A.pubkey===(null===(s=oA.activeUser)||void 0===s?void 0:s.pubkey)?5:0,borderLeftStyle:"solid"},children:(0,S.jsx)(a.A,{justify:"space-around",children:(0,S.jsxs)(g.A,{span:"22",children:[(0,S.jsxs)(a.A,{children:[(0,S.jsx)(g.A,{style:{width:80},children:(0,S.jsx)(h.A,{size:64,src:null===y||void 0===y?void 0:y.image,icon:!(null!==y&&void 0!==y&&y.image)&&(0,S.jsx)(o.A,{style:{fontSize:"45px"}}),alt:p})}),(0,S.jsx)(g.A,{style:{width:"calc(100% - 80px)"},children:(0,S.jsx)(a.A,{justify:"start",children:(0,S.jsxs)(g.A,{span:24,children:[(0,S.jsxs)(a.A,{justify:"space-between",children:[(0,S.jsx)(E.A,{active:!0,loading:void 0===y&&JA,paragraph:{rows:1,width:100},style:{marginTop:-10,marginBottom:-9,width:100},title:!1,children:(0,S.jsx)(H,{strong:!0,href:`https://njump.me/${null===A||void 0===A?void 0:A.author.npub}`,target:"_blank",children:p})}),(0,S.jsx)(z,{strong:!0,children:jA("shared.events.published_at",{date:(0,B.m)((0,x.S)(null!==(t=A.created_at)&&void 0!==t?t:0),{addSuffix:!0})})})]}),(0,S.jsx)(a.A,{justify:"end",children:(0,S.jsx)(Q.Ay,{type:"link",onClick:()=>FA(A),children:jA("pages.topic.reply")})})]})})})]}),(0,S.jsx)(u.A,{}),(0,S.jsx)(a.A,{children:(0,S.jsxs)(g.A,{span:24,children:[m&&(0,S.jsx)(v.Ay,{style:{background:pA,padding:25,marginBottom:10,borderLeftColor:kA,borderLeftWidth:5,borderLeftStyle:"solid"},children:(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{children:(0,S.jsx)(w,{text:m.content,loadingAuthors:JA,dTag:null===IA||void 0===IA||null===(r=IA.dTag)||void 0===r?void 0:r.toString()})})})}),(0,S.jsx)(w,{text:null!==(c=A.content)&&void 0!==c?c:"",loadingAuthors:JA,dTag:null===IA||void 0===IA||null===(j=IA.dTag)||void 0===j?void 0:j.toString()})]})})]})})})},e)}))})}),(0,S.jsx)(g.A,{span:"24",children:(0,S.jsx)(v.Ay,{style:{background:BA,padding:"15px 0"},children:(0,S.jsxs)(a.A,{justify:"space-around",gutter:[0,10],children:[(0,S.jsx)(g.A,{span:"22",children:(0,S.jsx)(a.A,{children:MA&&(0,S.jsxs)(v.Ay,{style:{background:pA,padding:25,marginBottom:10,borderLeftColor:kA,borderLeftWidth:5,borderLeftStyle:"solid"},children:[(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{children:(0,S.jsx)(w,{text:MA.content,loadingAuthors:JA,dTag:null===IA||void 0===IA?void 0:IA.dTag})})}),(0,S.jsx)(a.A,{justify:"end",children:(0,S.jsx)(g.A,{style:{position:"relative"},children:(0,S.jsx)(Q.Ay,{type:"link",onClick:()=>FA(void 0),children:jA("pages.topic.removeReply")})})})]})})}),(0,S.jsx)(g.A,{span:"22",children:(0,S.jsx)(a.A,{children:(0,S.jsx)(R.A,{rows:6,content:zA,onChange:A=>HA(A.target.value)})})}),(0,S.jsx)(g.A,{span:"22",children:(0,S.jsx)(a.A,{justify:"end",children:(0,S.jsx)(Q.Ay,{onClick:async()=>{const A=null===IA||void 0===IA?void 0:IA.dTag;if(IA&&A&&QA&&zA&&""!==zA){const e=new i.QB(oA);e.kind=1,e.content=zA,e.tags.push(IA.tagReference()),IA.tags.forEach((A=>{"a"===A[0]&&e.tags.push(A)})),MA&&MA.referenceTags().forEach((A=>e.tags.push(A))),e.publish(PA()).then((n=>{n&&aA({[A]:[e]}),FA(void 0),HA("")}))}},disabled:!zA||""===zA,type:"primary",htmlType:"submit",size:"large",icon:(0,S.jsx)(s.A,{}),iconPosition:"end",children:jA("pages.topic.createComment")})})})]})})})]})}),(0,S.jsx)(g.A,{xs:0,md:7,children:(0,S.jsxs)(a.A,{gutter:[0,10],children:[(0,S.jsx)(g.A,{span:24,children:(0,S.jsx)(T.G,{})}),(0,S.jsx)(g.A,{span:24,children:(0,S.jsx)(U.O,{})})]})})]})})}}}]);
//# sourceMappingURL=818.3f472d62.chunk.js.map