{"version":3,"file":"static/js/818.6bde5cec.chunk.js","mappings":"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","sources":["app/components/Markdown/index.tsx","app/pages/Topic/index.tsx"],"sourcesContent":["import { NDKUser, filterFromId } from \"@nostr-dev-kit/ndk\";\nimport { Skeleton, Typography, Image, Col, Layout, Row, theme, Button } from \"antd\";\nimport { UseNostrStoreType, NostrContext } from \"app/contexts/NostrContext\";\nimport { useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\nimport { visit } from 'unist-util-visit';\nimport { nip19 } from 'nostr-tools'\nimport { useNavigate } from \"react-router-dom\";\n\nconst { Link, Text } = Typography;\n\ninterface MarkdownProps {\n  text: string\n  dTag?: string\n  loadingAuthors?: boolean\n}\n\nexport const Markdown: React.FC<MarkdownProps> = ({ text, dTag, loadingAuthors }) => {\n  const {\n    token: { colorBgLayout, colorTextSecondary, colorBgContainerDisabled },\n  } = theme.useToken();\n  const { authors, comments } = useContext<UseNostrStoreType>(NostrContext);\n  const { t } = useTranslation()\n  const navigate = useNavigate();\n  const markdownComponent = {\n    a: props => {\n      const imageRegex = /\\.(jpg|jpeg|png|gif|bmp|webp|svg)$/i\n      return imageRegex.test(props.href) ?\n        <Row justify=\"center\">\n          <Image\n            src={props.href}\n            fallback=\"data:image/png;base64,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\"\n          />\n        </Row>\n        : <Link target=\"_blank\" href={props.href}>{props.children}</Link>\n    },\n    img: props => {\n      return <Row justify=\"center\">\n        <Image\n          src={props.src}\n          fallback=\"data:image/png;base64,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\"\n        />\n      </Row>\n    },\n    code: props => {\n      return (\n        <Col span={24}>\n          <Row style={{ backgroundColor: colorBgContainerDisabled }} justify=\"center\">\n            <Col span={23}>\n              <Text>{t('components.markDown.code')}</Text>\n            </Col>\n          </Row>\n          <Row justify=\"center\">\n            <Layout\n              style={{\n                background: colorBgLayout,\n                padding: 25,\n                marginBottom: 10,\n                overflowX: 'auto',\n                width: 300\n              }}\n            >\n              {props.children}\n            </Layout>\n          </Row>\n        </Col>\n      )\n    },\n  }\n\n  const mentionComponent = (npub: string): JSX.Element => {\n    const user = new NDKUser({ npub })\n    const profile = authors?.[user.pubkey] ?? user?.profile\n    const name: string = profile?.displayName ?? profile?.name ?? t(\"shared.events.anonymous\")\n    return loadingAuthors ?\n      <Skeleton.Input size=\"small\" active />\n      : <Link strong href={`https://njump.me/${npub}`} target=\"_blank\">{name}</Link>\n  }\n\n  const eventComponent = (nevent: string): JSX.Element => {\n    let eventText\n    if (dTag) {\n      const eventId = filterFromId(nevent)?.['#e']?.[0]\n      eventText = comments[dTag].find(c => c.id === eventId)\n    }\n    return (\n      <Layout style={{ background: colorBgLayout, padding: 25, marginBottom: 10, borderLeftColor: colorTextSecondary, borderLeftWidth: 5, borderLeftStyle: 'solid' }}>\n        <Row>\n          <Col>\n            <Skeleton active loading={!eventText}>\n              {eventText}\n            </Skeleton>\n          </Col>\n        </Row>\n      </Layout>\n    )\n  }\n\n  const topicComponent = (naddr: string, identifier: string): JSX.Element => {\n    if (!identifier || identifier === dTag) return <></>\n    return (\n      <Row>\n        <Col>\n          <Button type=\"link\" onClick={() => navigate(`/topic/${naddr}`)}>\n            {t('components.markDown.identifier', { identifier })}\n          </Button>\n        </Col>\n      </Row>\n    )\n  }\n\n  const applyComponent = (type: string, bech32: string): JSX.Element => {\n    if (type === 'npub' || type === 'nprofile') {\n      return mentionComponent(bech32)\n    } else if (type === 'nevent') {\n      return eventComponent(bech32)\n    } else if (type === 'naddr') {\n      const ref = nip19.decode(bech32)\n      // @ts-expect-error\n      if (ref.data.kind === 30023) {\n        // @ts-expect-error\n        return topicComponent(bech32, ref.data.identifier)\n      } else {\n        return eventComponent(bech32)\n      }\n    } else {\n      return <></>\n    }\n  }\n\n\n  const nostrSyntax = (): (tree: any) => void => {\n    return (tree) => {\n      visit(tree, 'text', (node) => {\n        const regex = /(?:nostr:)?((naddr|nevent|npub|nprofile)[a-zA-Z0-9]+)/g\n        const match = regex.exec(node.value)\n        if (match) {\n          node.type = 'root';\n          node.children = []\n          node.children.push({\n            type: 'custom',\n            value: applyComponent(match[2], match[1]),\n          });\n          node.children.push({\n            type: 'text',\n            value: node.value.replace(match[0], \"\"),\n          });\n        }\n      });\n    };\n  };\n\n  const parseHTML = (): string => {\n    return text.replace(/<img\\s+src=\"([^\"]+)\"\\s*[^>]*>/g, (match, src) => {\n      const altText = 'Image';\n      return `![${altText}](${src})`;\n    });\n  }\n\n  return (\n    <ReactMarkdown remarkPlugins={[remarkGfm, nostrSyntax]} className={\"markdown-container\"} components={markdownComponent}>\n      {parseHTML()}\n    </ReactMarkdown>\n  )\n}\n","import { NDKEvent, NDKRelaySet, NDKUserProfile, filterForEventsTaggingId, profileFromEvent } from \"@nostr-dev-kit/ndk\";\nimport PersonIcon from '@mui/icons-material/Person';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport SmsIcon from '@mui/icons-material/Sms';\nimport CommentIcon from '@mui/icons-material/Comment';\nimport { Avatar, Breadcrumb, Button, Col, Divider, Row, Skeleton, Typography, theme } from \"antd\";\nimport Layout, { Content } from \"antd/es/layout/layout\"\nimport { UseNostrStoreType, NostrContext } from \"app/contexts/NostrContext\";\nimport { fromUnixTime, formatDistanceToNow } from \"date-fns\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Markdown } from \"app/components/Markdown\";\nimport TextArea from \"antd/es/input/TextArea\";\nimport { ActiveUser } from \"app/components/ActiveUser\";\nimport { ForumsButtons } from \"app/components/ForumsButtons\";\nimport { AppContext, UseAppStoreType } from \"app/contexts/AppContext\";\nimport { nip19 } from \"nostr-tools\";\n\nconst { Title, Text, Link } = Typography;\n\nexport const Topic: () => JSX.Element = () => {\n  const { turtleMode } = useContext<UseAppStoreType>(AppContext);\n  const { ndk, authors, saveAuthors, reactions, saveReactions, comments, saveComments, topics, saveTopics, forums, saveForums, getBaseRelays } = useContext<UseNostrStoreType>(NostrContext);\n  const { naddr } = useParams();\n  const navigate = useNavigate();\n  const { t } = useTranslation()\n  const {\n    token: { colorBgContainer, borderRadiusLG, colorPrimary, colorBgLayout, colorTextSecondary, colorSuccess },\n  } = theme.useToken();\n  const [forumEvent, setForumEvent] = useState<NDKEvent>()\n  const [topicEvent, setTopicEvent] = useState<NDKEvent>()\n  const [rootAuthor, setRootAuthor] = useState<NDKUserProfile | null>()\n\n  const [loadingAuthors, setLoadingAuthors] = useState<boolean>(true)\n  const [loadingComments, setLoadingComments] = useState<boolean>(true)\n  const [loadingReactions, setLoadingReactions] = useState<boolean>(true)\n\n  const [liking, setLiking] = useState<boolean>(false)\n  const [content, setContent] = useState<string>()\n  const [replyTo, setReplyTo] = useState<NDKEvent>()\n\n  useEffect(() => {\n    if (naddr) {\n      if (topics[naddr]) {\n        const pubkey = topics[naddr].pubkey\n        setTopicEvent(topics[naddr])\n        if (authors[pubkey]) setRootAuthor(authors[pubkey])\n      }\n      ndk.fetchEvent(naddr, { closeOnEose: true }, getForumRelaySet()).then((event) => {\n        if (event) {\n          setTopicEvent(event)\n          if (event.dTag) saveTopics({ [event.dTag]: event })\n          const mainReference = event.tags.find(t => t[0] === 'a' && t[1].startsWith('34550:'))\n          const mainDTag = mainReference?.[1].split(':')?.[2]\n          if (mainDTag) {\n            if (forums[mainDTag]) setForumEvent(forums[mainDTag])\n            ndk.fetchEvents({ '#d': [mainDTag] }, { closeOnEose: true }, getForumRelaySet()).then((e) => {\n              const fEvent = [...e][0]\n              if (fEvent) {\n                setForumEvent(fEvent)\n                saveForums({ [fEvent.encode()]: fEvent, [mainDTag]: fEvent })\n              } else {\n                setForumEvent(new NDKEvent())\n              }\n            })\n          } else {\n            setForumEvent(new NDKEvent())\n          }\n        } else {\n          setForumEvent(new NDKEvent())\n        }\n      })\n      const filters = filterForEventsTaggingId(naddr)\n      const dTag = filters?.['#a']?.[0].split(':')[2]\n\n      const kinds = [1]\n      if (!turtleMode) kinds.push(7)\n\n      if (dTag) {\n        ndk.fetchEvents({ ...filters, kinds }, {}, getForumRelaySet()).then((eventsList) => {\n          const commList: NDKEvent[] = []\n          const reactList: NDKEvent[] = []\n          eventsList.forEach((event) => {\n            switch (event.kind) {\n              case 1:\n                commList.push(event)\n                break;\n              case 7:\n                reactList.push(event)\n                break;\n              default:\n                break;\n            }\n          })\n          ndk\n            .fetchEvents({ kinds: [0], authors: commList.map((c) => c.pubkey) }, { closeOnEose: true }, getForumRelaySet())\n            .then((eventsList) => {\n              const list = {}\n              eventsList.forEach((event) => {\n                list[event.pubkey] = profileFromEvent(event)\n              })\n              saveAuthors(list)\n              setLoadingAuthors(false)\n            })\n          saveComments({ [dTag]: commList })\n          saveReactions({ [dTag]: reactList })\n          setLoadingReactions(false)\n          setLoadingComments(false)\n        })\n      }\n    }\n\n    return () => {\n      setTopicEvent(undefined)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (topicEvent) {\n      const dTag = topicEvent.dTag?.toString()\n      if (dTag) {\n        setLoadingAuthors(true)\n        const list = [...topicEvent.getMatchingTags(\"p\").map(t => t[1]), topicEvent.pubkey]\n        ndk\n          .fetchEvents({ kinds: [0], authors: list }, { closeOnEose: true }, getForumRelaySet())\n          .then((eventsList) => {\n            const list = {}\n            eventsList.forEach((event) => {\n              list[event.pubkey] = profileFromEvent(event)\n              if (list[event.pubkey]) setRootAuthor(list[event.pubkey])\n            })\n            saveAuthors(list)\n            setLoadingAuthors(false)\n          })\n      }\n    }\n  }, [topicEvent])\n\n  const likeTopicEvent = (): void => {\n    setLiking(true)\n    const dTag = topicEvent?.dTag\n    const alreadyLiked = reactions?.[topicEvent?.dTag ?? '']?.find(reaction => reaction.pubkey === ndk.activeUser?.pubkey)\n    if (dTag && !alreadyLiked) {\n      topicEvent\n        .react('+', true)\n        .then((reaction) => {\n          if (reaction) saveReactions({ [dTag]: [reaction] })\n          setLiking(false)\n        })\n    } else {\n      setLiking(false)\n    }\n  }\n\n  const getForumRelaySet = (): NDKRelaySet => {\n    let relays: string[] = getBaseRelays()\n\n    if (forumEvent) forumEvent.onRelays.forEach(r => relays.push(r.url))\n    if (naddr) {\n      const ref = nip19.decode(naddr)\n      // @ts-expect-error\n      relays = [...relays, ...ref.data?.relays ?? []]\n    }\n\n    return NDKRelaySet.fromRelayUrls(relays, ndk, true)\n  }\n\n  const createComment = async (): Promise<void> => {\n    const dTag = topicEvent?.dTag\n    if (topicEvent && dTag && naddr && content && content !== '') {\n      const newComment = new NDKEvent(ndk)\n      newComment.kind = 1\n      newComment.content = content\n      newComment.tags.push(topicEvent.tagReference())\n      topicEvent.tags.forEach((t) => {\n        if (t[0] === 'a') newComment.tags.push(t)\n      })\n\n      if (forumEvent) newComment.tags.push(['a', forumEvent.tagReference()[1]])\n      if (replyTo) replyTo.referenceTags().forEach((t) => newComment.tags.push(t))\n\n      newComment\n        .publish(getForumRelaySet())\n        .then((result) => {\n          if (result) {\n            saveComments({ [dTag]: [newComment] })\n          }\n          setReplyTo(undefined)\n          setContent('')\n        })\n    }\n  }\n\n  return (\n    <Content>\n      <Row justify='space-between'>\n        <Col xs={24} md={16}>\n          <Row gutter={[0, 10]} >\n            <Col span={24}>\n              <Row>\n                <Breadcrumb\n                  items={[\n                    {\n                      title: <a>Home</a>,\n                      onClick: () => navigate('/')\n                    },\n                    {\n                      title: forumEvent ? <a>{forumEvent?.tagValue(\"name\") ?? forumEvent?.tagValue(\"d\") ?? 'All'}</a> : <Skeleton paragraph={{ rows: 1, width: 55, style: { marginTop: 0 } }} title={false} />,\n                      onClick: () => navigate(`/forum/${forumEvent?.kind ? forumEvent.encode() : 'all'}`)\n                    },\n                    {\n                      title: topicEvent?.tagValue(\"title\") ?? topicEvent?.tagValue(\"d\") ?? <Skeleton paragraph={{ rows: 1, width: 55, style: { marginTop: 0 } }} title={false} />,\n                    },\n                  ]}\n                />\n              </Row>\n            </Col>\n            <Col span='24'>\n              <Layout\n                style={{ background: colorBgContainer, borderTopLeftRadius: borderRadiusLG, borderTopRightRadius: borderRadiusLG, paddingBottom: 15 }}\n              >\n                <Row justify='space-around'>\n                  <Col span='22'>\n                    <Skeleton active loading={!topicEvent} paragraph={{ rows: 0 }} style={{ marginTop: 34 }} >\n                      <Title>{topicEvent?.tagValue(\"title\")}</Title>\n                    </Skeleton>\n                  </Col>\n                </Row>\n              </Layout>\n            </Col>\n            <Col span='24'>\n              {/* MAIN */}\n              <Layout\n                style={{ padding: '15px 0', background: colorBgContainer, borderLeftColor: colorPrimary, borderLeftWidth: 5, borderLeftStyle: 'solid' }}\n              >\n                <Row justify='space-around'>\n                  <Col span='22'>\n                    <Row>\n                      <Col style={{ width: 80 }}>\n                        <Avatar size={64} src={rootAuthor?.image} icon={!rootAuthor?.image && <PersonIcon style={{ fontSize: '45px' }} />} alt={rootAuthor?.displayName ?? rootAuthor?.name ?? t(\"shared.events.anonymous\")} />\n                      </Col>\n                      <Col style={{ width: 'calc(100% - 80px)' }}>\n                        <Row justify='start'>\n                          <Col span={24}>\n                            <Row justify='space-between'>\n                              <Skeleton active loading={!rootAuthor === undefined} paragraph={{ rows: 1, width: 100 }} style={{ marginTop: -10, marginBottom: -9, width: 100 }} title={false}>\n                                <Link strong href={`https://njump.me/${topicEvent?.author.npub}`} target=\"_blank\">\n                                  {rootAuthor?.displayName ?? rootAuthor?.name ?? t(\"shared.events.anonymous\")}\n                                </Link>\n                              </Skeleton>\n                              <Skeleton active loading={!topicEvent} paragraph={{ rows: 1, width: 100 }} style={{ marginTop: -10, marginBottom: -9, width: 100 }} title={false}>\n                                <Text strong>{t(\"shared.events.published_at\", { date: formatDistanceToNow(fromUnixTime(parseInt(topicEvent?.tagValue(\"published_at\") ?? topicEvent?.created_at?.toString() ?? \"0\", 10)), { addSuffix: true }) })}</Text>\n                              </Skeleton>\n                            </Row>\n                          </Col>\n                        </Row>\n                      </Col>\n                    </Row>\n                    <Divider />\n                    <Row>\n                      <Col span={24}>\n                        <Skeleton active loading={!topicEvent} paragraph={{ rows: 6 }} title={false}>\n                          <Markdown text={topicEvent?.content ?? ''} loadingAuthors={loadingAuthors} dTag={topicEvent?.dTag} />\n                        </Skeleton>\n                      </Col>\n                    </Row>\n                    <Divider />\n                    <Row>\n                      <Col span={24}>\n                        <Row justify=\"end\">\n                          {!turtleMode && (\n                            <Col style={{ width: 63, marginRight: 16 }}>\n                              <Text type=\"secondary\">\n                                <Skeleton active loading={!reactions?.[topicEvent?.dTag ?? ''] && loadingReactions} paragraph={{ rows: 1, width: 55 }} title={false}>\n                                  <Row justify=\"space-between\">\n                                    <Button\n                                      icon={\n                                        <FavoriteIcon color={reactions?.[topicEvent?.dTag ?? '']?.find(reaction => reaction.pubkey === ndk.activeUser?.pubkey) ? 'error' : 'inherit'} />\n                                      }\n                                      loading={liking}\n                                      onClick={() => likeTopicEvent()}\n                                    >\n                                      {reactions?.[topicEvent?.dTag ?? '']?.length ?? 0}\n                                    </Button>\n                                  </Row>\n                                </Skeleton>\n                              </Text>\n                            </Col>\n                          )}\n                          <Col style={{ width: 63, marginLeft: 16 }}>\n                            <Text type=\"secondary\">\n                              <Skeleton active loading={!comments?.[topicEvent?.dTag ?? ''] && loadingComments} paragraph={{ rows: 1, width: 55 }} title={false}>\n                                <Row justify=\"space-between\">\n                                  <Button\n                                    icon={\n                                      <SmsIcon color={comments?.[topicEvent?.dTag ?? '']?.find(comment => comment.pubkey === ndk.activeUser?.pubkey) ? 'success' : 'inherit'} />\n                                    }\n                                  >\n                                    {comments?.[topicEvent?.dTag ?? '']?.length ?? 0}\n                                  </Button>\n                                </Row>\n                              </Skeleton>\n                            </Text>\n                          </Col>\n                        </Row>\n                      </Col>\n                    </Row>\n                  </Col>\n                </Row>\n              </Layout>\n            </Col>\n            <Col span='24'>\n              {/* COMMENT */}\n              {!comments[topicEvent?.dTag ?? ''] && loadingComments ? (\n                <></>\n              ) : (\n                <Row gutter={[0, 10]} >\n                  {comments[topicEvent?.dTag ?? '']?.map((comment, i) => {\n                    const author = authors[comment.pubkey]\n                    const name = author?.displayName ?? author?.name ?? t(\"shared.events.anonymous\")\n                    const refrences = comment.getMatchingTags(\"e\")\n                    const replyId = refrences[refrences.length - 1]?.[1]\n                    const reply = replyId !== topicEvent?.id ? comments[topicEvent?.dTag ?? ''].find(c => c.id === replyId) : null\n                    return (\n                      <Col span={24} key={i}>\n                        <Layout\n                          style={{ padding: '15px 0', background: colorBgContainer, borderLeftColor: colorSuccess, borderLeftWidth: comment.pubkey === ndk.activeUser?.pubkey ? 5 : 0, borderLeftStyle: 'solid' }}\n                        >\n                          <Row justify='space-around'>\n                            <Col span='22'>\n                              <Row>\n                                <Col style={{ width: 80 }}>\n                                  <Avatar size={64} src={author?.image} icon={!author?.image && <PersonIcon style={{ fontSize: '45px' }} />} alt={name} />\n                                </Col>\n                                <Col style={{ width: 'calc(100% - 80px)' }}>\n                                  <Row justify='start'>\n                                    <Col span={24}>\n                                      <Row justify='space-between'>\n                                        <Skeleton active loading={author === undefined && loadingAuthors} paragraph={{ rows: 1, width: 100 }} style={{ marginTop: -10, marginBottom: -9, width: 100 }} title={false}>\n                                          <Link strong href={`https://njump.me/${comment?.author.npub}`} target=\"_blank\">\n                                            {name}\n                                          </Link>\n                                        </Skeleton>\n                                        <Text strong>{t(\"shared.events.published_at\", { date: formatDistanceToNow(fromUnixTime(comment.created_at ?? 0), { addSuffix: true }) })}</Text>\n                                      </Row>\n                                      <Row justify='end'>\n                                        <Button type=\"link\" onClick={() => setReplyTo(comment)}>{t(\"pages.topic.reply\")}</Button>\n                                      </Row>\n                                    </Col>\n                                  </Row>\n                                </Col>\n                              </Row>\n                              <Divider />\n                              <Row>\n                                <Col span={24}>\n                                  {reply && (\n                                    <Layout style={{ background: colorBgLayout, padding: 25, marginBottom: 10, borderLeftColor: colorTextSecondary, borderLeftWidth: 5, borderLeftStyle: 'solid' }}>\n                                      <Row>\n                                        <Col>\n                                          <Markdown text={reply.content} loadingAuthors={loadingAuthors} dTag={topicEvent?.dTag?.toString()} />\n                                        </Col>\n                                      </Row>\n                                    </Layout>\n                                  )}\n                                  <Markdown text={comment.content ?? ''} loadingAuthors={loadingAuthors} dTag={topicEvent?.dTag?.toString()} />\n                                </Col>\n                              </Row>\n                            </Col>\n                          </Row>\n                        </Layout>\n                      </Col>\n                    )\n                  })}\n                </Row>\n              )}\n            </Col>\n            <Col span='24'>\n              <Layout\n                style={{ background: colorBgContainer, padding: '15px 0' }}\n              >\n                <Row justify='space-around' gutter={[0, 10]} >\n                  <Col span='22'>\n                    <Row>\n                      {replyTo && (\n                        <Layout style={{ background: colorBgLayout, padding: 25, marginBottom: 10, borderLeftColor: colorTextSecondary, borderLeftWidth: 5, borderLeftStyle: 'solid' }}>\n                          <Row>\n                            <Col>\n                              <Markdown text={replyTo.content} loadingAuthors={loadingAuthors} dTag={topicEvent?.dTag} />\n                            </Col>\n                          </Row>\n                          <Row justify=\"end\">\n                            <Col style={{ position: \"relative\" }}>\n                              <Button type=\"link\" onClick={() => setReplyTo(undefined)}>{t('pages.topic.removeReply')}</Button>\n                            </Col>\n                          </Row>\n                        </Layout>\n                      )}\n                    </Row>\n                  </Col>\n                  <Col span='22'>\n                    <Row>\n                      <TextArea rows={6} content={content} onChange={(v) => setContent(v.target.value)} />\n                    </Row>\n                  </Col>\n                  <Col span='22'>\n                    <Row justify=\"end\">\n                      <Button onClick={createComment} disabled={!content || content === ''} type=\"primary\" htmlType=\"submit\" size=\"large\" icon={<CommentIcon />} iconPosition=\"end\" >\n                        {t('pages.topic.createComment')}\n                      </Button>\n                    </Row>\n                  </Col>\n                </Row>\n              </Layout>\n            </Col>\n          </Row>\n        </Col>\n        <Col xs={0} md={7}>\n          <Row gutter={[0, 10]} >\n            <Col span={24}>\n              <ActiveUser />\n            </Col>\n            <Col span={24}>\n              <ForumsButtons />\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Content>\n  )\n}\n"],"names":["Link","Text","Typography","Markdown","_ref","text","dTag","loadingAuthors","token","colorBgLayout","colorTextSecondary","colorBgContainerDisabled","theme","useToken","authors","comments","useContext","NostrContext","t","useTranslation","navigate","useNavigate","markdownComponent","a","props","test","href","_jsx","Row","justify","children","Image","src","fallback","target","img","code","_jsxs","Col","span","style","backgroundColor","Layout","background","padding","marginBottom","overflowX","width","eventComponent","nevent","eventText","_filterFromId","_filterFromId$E","eventId","filterFromId","find","c","id","borderLeftColor","borderLeftWidth","borderLeftStyle","Skeleton","active","loading","applyComponent","type","bech32","npub","_authors$user$pubkey","_ref2","_profile$displayName","user","NDKUser","profile","pubkey","name","displayName","Input","size","strong","mentionComponent","ref","nip19","decode","data","kind","naddr","identifier","Button","onClick","_Fragment","topicComponent","ReactMarkdown","remarkPlugins","remarkGfm","nostrSyntax","tree","visit","node","match","exec","value","push","replace","className","components","Title","Topic","_forumEvent$tagValue","_topicEvent$tagValue","_ref3","_rootAuthor$displayNa","_ref4","_rootAuthor$displayNa2","_ref5","_topicEvent$tagValue2","_topicEvent$created_a","_topicEvent$content","_topicEvent$dTag3","_reactions2","_topicEvent$dTag4","_reactions$length","_reactions3","_topicEvent$dTag5","_topicEvent$dTag6","_comments","_topicEvent$dTag7","_comments$length","_comments2","_topicEvent$dTag8","_topicEvent$dTag9","_comments3","_topicEvent$dTag10","turtleMode","AppContext","ndk","saveAuthors","reactions","saveReactions","saveComments","topics","saveTopics","forums","saveForums","getBaseRelays","useParams","colorBgContainer","borderRadiusLG","colorPrimary","colorSuccess","forumEvent","setForumEvent","useState","topicEvent","setTopicEvent","rootAuthor","setRootAuthor","setLoadingAuthors","loadingComments","setLoadingComments","loadingReactions","setLoadingReactions","liking","setLiking","content","setContent","replyTo","setReplyTo","useEffect","_filters$A","fetchEvent","closeOnEose","getForumRelaySet","then","event","_mainReference$1$spli","mainReference","tags","startsWith","mainDTag","split","fetchEvents","e","fEvent","encode","NDKEvent","filters","filterForEventsTaggingId","kinds","eventsList","commList","reactList","forEach","map","list","profileFromEvent","undefined","_topicEvent$dTag","toString","getMatchingTags","relays","onRelays","r","url","_ref$data$relays","_ref$data","NDKRelaySet","fromRelayUrls","Content","xs","md","gutter","Breadcrumb","items","title","tagValue","paragraph","rows","marginTop","borderTopLeftRadius","borderTopRightRadius","paddingBottom","Avatar","image","icon","PersonIcon","fontSize","alt","author","date","formatDistanceToNow","fromUnixTime","parseInt","created_at","addSuffix","Divider","marginRight","FavoriteIcon","color","reaction","_ndk$activeUser2","activeUser","likeTopicEvent","_reactions","_topicEvent$dTag2","alreadyLiked","_ndk$activeUser","react","length","marginLeft","SmsIcon","comment","_ndk$activeUser3","i","_ref6","_author$displayName","_refrences","_topicEvent$dTag11","_ndk$activeUser4","_comment$created_at","_topicEvent$dTag12","_comment$content","_topicEvent$dTag13","refrences","replyId","reply","position","TextArea","onChange","v","async","newComment","tagReference","referenceTags","publish","result","disabled","htmlType","CommentIcon","iconPosition","ActiveUser","ForumsButtons"],"sourceRoot":""}