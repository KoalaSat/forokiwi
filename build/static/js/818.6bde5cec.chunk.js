"use strict";(self.webpackChunkforokiwi=self.webpackChunkforokiwi||[]).push([[818],{7818:(e,A,n)=>{n.r(A),n.d(A,{Topic:()=>M});var i=n(2691),o=n(2177),d=n(6520),l=n(1667),s=n(835),t=n(9900),r=n(7170),a=n(7419),g=n(1645),c=n(8125),E=n(481),h=n(2245),u=n(8354),Q=n(7021),v=n(5448),j=n(1690),B=n(3007),x=n(2393),y=n(5043),p=n(9092),k=n(6971),C=n(8860),m=n(903),b=n(8494),f=n(5215),I=n(4723),N=n(2595),S=n(579);const{Link:J,Text:K}=t.A,R=e=>{let{text:A,dTag:n,loadingAuthors:o}=e;const{token:{colorBgLayout:d,colorTextSecondary:l,colorBgContainerDisabled:s}}=r.A.useToken(),{authors:t,comments:c}=(0,y.useContext)(j.gH),{t:h}=(0,p.B)(),u=(0,k.Zp)(),v={a:e=>/\.(jpg|jpeg|png|gif|bmp|webp|svg)$/i.test(e.href)?(0,S.jsx)(a.A,{justify:"center",children:(0,S.jsx)(C.A,{src:e.href,fallback:"data:image/png;base64,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"})}):(0,S.jsx)(J,{target:"_blank",href:e.href,children:e.children}),img:e=>(0,S.jsx)(a.A,{justify:"center",children:(0,S.jsx)(C.A,{src:e.src,fallback:"data:image/png;base64,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"})}),code:e=>(0,S.jsxs)(g.A,{span:24,children:[(0,S.jsx)(a.A,{style:{backgroundColor:s},justify:"center",children:(0,S.jsx)(g.A,{span:23,children:(0,S.jsx)(K,{children:h("components.markDown.code")})})}),(0,S.jsx)(a.A,{justify:"center",children:(0,S.jsx)(m.A,{style:{background:d,padding:25,marginBottom:10,overflowX:"auto",width:300},children:e.children})})]})},B=e=>{let A;if(n){var o,s;const d=null===(o=(0,i.uL)(e))||void 0===o||null===(s=o["#e"])||void 0===s?void 0:s[0];A=c[n].find((e=>e.id===d))}return(0,S.jsx)(m.A,{style:{background:d,padding:25,marginBottom:10,borderLeftColor:l,borderLeftWidth:5,borderLeftStyle:"solid"},children:(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{children:(0,S.jsx)(E.A,{active:!0,loading:!A,children:A})})})})},x=(e,A)=>{if("npub"===e||"nprofile"===e)return(e=>{var A,n,d;const l=new i.VT({npub:e}),s=null!==(A=null===t||void 0===t?void 0:t[l.pubkey])&&void 0!==A?A:null===l||void 0===l?void 0:l.profile,r=null!==(n=null!==(d=null===s||void 0===s?void 0:s.displayName)&&void 0!==d?d:null===s||void 0===s?void 0:s.name)&&void 0!==n?n:h("shared.events.anonymous");return o?(0,S.jsx)(E.A.Input,{size:"small",active:!0}):(0,S.jsx)(J,{strong:!0,href:`https://njump.me/${e}`,target:"_blank",children:r})})(A);if("nevent"===e)return B(A);if("naddr"===e){const e=N.Qe.decode(A);return 30023===e.data.kind?(d=A,(l=e.data.identifier)&&l!==n?(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{children:(0,S.jsx)(Q.Ay,{type:"link",onClick:()=>u(`/topic/${d}`),children:h("components.markDown.identifier",{identifier:l})})})}):(0,S.jsx)(S.Fragment,{})):B(A)}return(0,S.jsx)(S.Fragment,{});var d,l};return(0,S.jsx)(b.o,{remarkPlugins:[f.A,()=>e=>{(0,I.YR)(e,"text",(e=>{const A=/(?:nostr:)?((naddr|nevent|npub|nprofile)[a-zA-Z0-9]+)/g.exec(e.value);A&&(e.type="root",e.children=[],e.children.push({type:"custom",value:x(A[2],A[1])}),e.children.push({type:"text",value:e.value.replace(A[0],"")}))}))}],className:"markdown-container",components:v,children:A.replace(/<img\s+src="([^"]+)"\s*[^>]*>/g,((e,A)=>`![Image](${A})`))})};var w=n(798),T=n(1875),U=n(9997),L=n(7763);const{Title:Y,Text:z,Link:H}=t.A,M=()=>{var e,A,n,t,C,m,b,f,I,J,K,M,F,P,D,Z,G,q,X,W,O,V,_,$,ee,Ae,ne;const{turtleMode:ie}=(0,y.useContext)(L.BR),{ndk:oe,authors:de,saveAuthors:le,reactions:se,saveReactions:te,comments:re,saveComments:ae,topics:ge,saveTopics:ce,forums:Ee,saveForums:he,getBaseRelays:ue}=(0,y.useContext)(j.gH),{naddr:Qe}=(0,k.g)(),ve=(0,k.Zp)(),{t:je}=(0,p.B)(),{token:{colorBgContainer:Be,borderRadiusLG:xe,colorPrimary:ye,colorBgLayout:pe,colorTextSecondary:ke,colorSuccess:Ce}}=r.A.useToken(),[me,be]=(0,y.useState)(),[fe,Ie]=(0,y.useState)(),[Ne,Se]=(0,y.useState)(),[Je,Ke]=(0,y.useState)(!0),[Re,we]=(0,y.useState)(!0),[Te,Ue]=(0,y.useState)(!0),[Le,Ye]=(0,y.useState)(!1),[ze,He]=(0,y.useState)(),[Me,Fe]=(0,y.useState)();(0,y.useEffect)((()=>{if(Qe){var e;if(ge[Qe]){const e=ge[Qe].pubkey;Ie(ge[Qe]),de[e]&&Se(de[e])}oe.fetchEvent(Qe,{closeOnEose:!0},Pe()).then((e=>{if(e){var A;Ie(e),e.dTag&&ce({[e.dTag]:e});const n=e.tags.find((e=>"a"===e[0]&&e[1].startsWith("34550:"))),o=null===n||void 0===n||null===(A=n[1].split(":"))||void 0===A?void 0:A[2];o?(Ee[o]&&be(Ee[o]),oe.fetchEvents({"#d":[o]},{closeOnEose:!0},Pe()).then((e=>{const A=[...e][0];A?(be(A),he({[A.encode()]:A,[o]:A})):be(new i.QB)}))):be(new i.QB)}else be(new i.QB)}));const A=(0,i.bY)(Qe),n=null===A||void 0===A||null===(e=A["#a"])||void 0===e?void 0:e[0].split(":")[2],o=[1];ie||o.push(7),n&&oe.fetchEvents({...A,kinds:o},{},Pe()).then((e=>{const A=[],o=[];e.forEach((e=>{switch(e.kind){case 1:A.push(e);break;case 7:o.push(e)}})),oe.fetchEvents({kinds:[0],authors:A.map((e=>e.pubkey))},{closeOnEose:!0},Pe()).then((e=>{const A={};e.forEach((e=>{A[e.pubkey]=(0,i.o_)(e)})),le(A),Ke(!1)})),ae({[n]:A}),te({[n]:o}),Ue(!1),we(!1)}))}return()=>{Ie(void 0)}}),[]),(0,y.useEffect)((()=>{if(fe){var e;if(null===(e=fe.dTag)||void 0===e?void 0:e.toString()){Ke(!0);const e=[...fe.getMatchingTags("p").map((e=>e[1])),fe.pubkey];oe.fetchEvents({kinds:[0],authors:e},{closeOnEose:!0},Pe()).then((e=>{const A={};e.forEach((e=>{A[e.pubkey]=(0,i.o_)(e),A[e.pubkey]&&Se(A[e.pubkey])})),le(A),Ke(!1)}))}}}),[fe]);const Pe=()=>{let e=ue();if(me&&me.onRelays.forEach((A=>e.push(A.url))),Qe){var A,n;const i=N.Qe.decode(Qe);e=[...e,...null!==(A=null===(n=i.data)||void 0===n?void 0:n.relays)&&void 0!==A?A:[]]}return i.P0.fromRelayUrls(e,oe,!0)};return(0,S.jsx)(v.UC,{children:(0,S.jsxs)(a.A,{justify:"space-between",children:[(0,S.jsx)(g.A,{xs:24,md:16,children:(0,S.jsxs)(a.A,{gutter:[0,10],children:[(0,S.jsx)(g.A,{span:24,children:(0,S.jsx)(a.A,{children:(0,S.jsx)(c.A,{items:[{title:(0,S.jsx)("a",{children:"Home"}),onClick:()=>ve("/")},{title:me?(0,S.jsx)("a",{children:null!==(e=null!==(A=null===me||void 0===me?void 0:me.tagValue("name"))&&void 0!==A?A:null===me||void 0===me?void 0:me.tagValue("d"))&&void 0!==e?e:"All"}):(0,S.jsx)(E.A,{paragraph:{rows:1,width:55,style:{marginTop:0}},title:!1}),onClick:()=>ve(`/forum/${null!==me&&void 0!==me&&me.kind?me.encode():"all"}`)},{title:null!==(n=null!==(t=null===fe||void 0===fe?void 0:fe.tagValue("title"))&&void 0!==t?t:null===fe||void 0===fe?void 0:fe.tagValue("d"))&&void 0!==n?n:(0,S.jsx)(E.A,{paragraph:{rows:1,width:55,style:{marginTop:0}},title:!1})}]})})}),(0,S.jsx)(g.A,{span:"24",children:(0,S.jsx)(v.Ay,{style:{background:Be,borderTopLeftRadius:xe,borderTopRightRadius:xe,paddingBottom:15},children:(0,S.jsx)(a.A,{justify:"space-around",children:(0,S.jsx)(g.A,{span:"22",children:(0,S.jsx)(E.A,{active:!0,loading:!fe,paragraph:{rows:0},style:{marginTop:34},children:(0,S.jsx)(Y,{children:null===fe||void 0===fe?void 0:fe.tagValue("title")})})})})})}),(0,S.jsx)(g.A,{span:"24",children:(0,S.jsx)(v.Ay,{style:{padding:"15px 0",background:Be,borderLeftColor:ye,borderLeftWidth:5,borderLeftStyle:"solid"},children:(0,S.jsx)(a.A,{justify:"space-around",children:(0,S.jsxs)(g.A,{span:"22",children:[(0,S.jsxs)(a.A,{children:[(0,S.jsx)(g.A,{style:{width:80},children:(0,S.jsx)(h.A,{size:64,src:null===Ne||void 0===Ne?void 0:Ne.image,icon:!(null!==Ne&&void 0!==Ne&&Ne.image)&&(0,S.jsx)(o.A,{style:{fontSize:"45px"}}),alt:null!==(C=null!==(m=null===Ne||void 0===Ne?void 0:Ne.displayName)&&void 0!==m?m:null===Ne||void 0===Ne?void 0:Ne.name)&&void 0!==C?C:je("shared.events.anonymous")})}),(0,S.jsx)(g.A,{style:{width:"calc(100% - 80px)"},children:(0,S.jsx)(a.A,{justify:"start",children:(0,S.jsx)(g.A,{span:24,children:(0,S.jsxs)(a.A,{justify:"space-between",children:[(0,S.jsx)(E.A,{active:!0,loading:void 0===!Ne,paragraph:{rows:1,width:100},style:{marginTop:-10,marginBottom:-9,width:100},title:!1,children:(0,S.jsx)(H,{strong:!0,href:`https://njump.me/${null===fe||void 0===fe?void 0:fe.author.npub}`,target:"_blank",children:null!==(b=null!==(f=null===Ne||void 0===Ne?void 0:Ne.displayName)&&void 0!==f?f:null===Ne||void 0===Ne?void 0:Ne.name)&&void 0!==b?b:je("shared.events.anonymous")})}),(0,S.jsx)(E.A,{active:!0,loading:!fe,paragraph:{rows:1,width:100},style:{marginTop:-10,marginBottom:-9,width:100},title:!1,children:(0,S.jsx)(z,{strong:!0,children:je("shared.events.published_at",{date:(0,B.m)((0,x.S)(parseInt(null!==(I=null!==(J=null===fe||void 0===fe?void 0:fe.tagValue("published_at"))&&void 0!==J?J:null===fe||void 0===fe||null===(K=fe.created_at)||void 0===K?void 0:K.toString())&&void 0!==I?I:"0",10)),{addSuffix:!0})})})})]})})})})]}),(0,S.jsx)(u.A,{}),(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{span:24,children:(0,S.jsx)(E.A,{active:!0,loading:!fe,paragraph:{rows:6},title:!1,children:(0,S.jsx)(R,{text:null!==(M=null===fe||void 0===fe?void 0:fe.content)&&void 0!==M?M:"",loadingAuthors:Je,dTag:null===fe||void 0===fe?void 0:fe.dTag})})})}),(0,S.jsx)(u.A,{}),(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{span:24,children:(0,S.jsxs)(a.A,{justify:"end",children:[!ie&&(0,S.jsx)(g.A,{style:{width:63,marginRight:16},children:(0,S.jsx)(z,{type:"secondary",children:(0,S.jsx)(E.A,{active:!0,loading:!(null!==se&&void 0!==se&&se[null!==(F=null===fe||void 0===fe?void 0:fe.dTag)&&void 0!==F?F:""])&&Te,paragraph:{rows:1,width:55},title:!1,children:(0,S.jsx)(a.A,{justify:"space-between",children:(0,S.jsx)(Q.Ay,{icon:(0,S.jsx)(d.A,{color:null!==se&&void 0!==se&&null!==(P=se[null!==(D=null===fe||void 0===fe?void 0:fe.dTag)&&void 0!==D?D:""])&&void 0!==P&&P.find((e=>{var A;return e.pubkey===(null===(A=oe.activeUser)||void 0===A?void 0:A.pubkey)}))?"error":"inherit"}),loading:Le,onClick:()=>(()=>{var e,A;Ye(!0);const n=null===fe||void 0===fe?void 0:fe.dTag,i=null===se||void 0===se||null===(e=se[null!==(A=null===fe||void 0===fe?void 0:fe.dTag)&&void 0!==A?A:""])||void 0===e?void 0:e.find((e=>{var A;return e.pubkey===(null===(A=oe.activeUser)||void 0===A?void 0:A.pubkey)}));n&&!i?fe.react("+",!0).then((e=>{e&&te({[n]:[e]}),Ye(!1)})):Ye(!1)})(),children:null!==(Z=null===se||void 0===se||null===(G=se[null!==(q=null===fe||void 0===fe?void 0:fe.dTag)&&void 0!==q?q:""])||void 0===G?void 0:G.length)&&void 0!==Z?Z:0})})})})}),(0,S.jsx)(g.A,{style:{width:63,marginLeft:16},children:(0,S.jsx)(z,{type:"secondary",children:(0,S.jsx)(E.A,{active:!0,loading:!(null!==re&&void 0!==re&&re[null!==(X=null===fe||void 0===fe?void 0:fe.dTag)&&void 0!==X?X:""])&&Re,paragraph:{rows:1,width:55},title:!1,children:(0,S.jsx)(a.A,{justify:"space-between",children:(0,S.jsx)(Q.Ay,{icon:(0,S.jsx)(l.A,{color:null!==re&&void 0!==re&&null!==(W=re[null!==(O=null===fe||void 0===fe?void 0:fe.dTag)&&void 0!==O?O:""])&&void 0!==W&&W.find((e=>{var A;return e.pubkey===(null===(A=oe.activeUser)||void 0===A?void 0:A.pubkey)}))?"success":"inherit"}),children:null!==(V=null===re||void 0===re||null===(_=re[null!==($=null===fe||void 0===fe?void 0:fe.dTag)&&void 0!==$?$:""])||void 0===_?void 0:_.length)&&void 0!==V?V:0})})})})})]})})})]})})})}),(0,S.jsx)(g.A,{span:"24",children:!re[null!==(ee=null===fe||void 0===fe?void 0:fe.dTag)&&void 0!==ee?ee:""]&&Re?(0,S.jsx)(S.Fragment,{}):(0,S.jsx)(a.A,{gutter:[0,10],children:null===(Ae=re[null!==(ne=null===fe||void 0===fe?void 0:fe.dTag)&&void 0!==ne?ne:""])||void 0===Ae?void 0:Ae.map(((e,A)=>{var n,i,d,l,s,t,r,c,j;const y=de[e.pubkey],p=null!==(n=null!==(i=null===y||void 0===y?void 0:y.displayName)&&void 0!==i?i:null===y||void 0===y?void 0:y.name)&&void 0!==n?n:je("shared.events.anonymous"),k=e.getMatchingTags("e"),C=null===(d=k[k.length-1])||void 0===d?void 0:d[1],m=C!==(null===fe||void 0===fe?void 0:fe.id)?re[null!==(l=null===fe||void 0===fe?void 0:fe.dTag)&&void 0!==l?l:""].find((e=>e.id===C)):null;return(0,S.jsx)(g.A,{span:24,children:(0,S.jsx)(v.Ay,{style:{padding:"15px 0",background:Be,borderLeftColor:Ce,borderLeftWidth:e.pubkey===(null===(s=oe.activeUser)||void 0===s?void 0:s.pubkey)?5:0,borderLeftStyle:"solid"},children:(0,S.jsx)(a.A,{justify:"space-around",children:(0,S.jsxs)(g.A,{span:"22",children:[(0,S.jsxs)(a.A,{children:[(0,S.jsx)(g.A,{style:{width:80},children:(0,S.jsx)(h.A,{size:64,src:null===y||void 0===y?void 0:y.image,icon:!(null!==y&&void 0!==y&&y.image)&&(0,S.jsx)(o.A,{style:{fontSize:"45px"}}),alt:p})}),(0,S.jsx)(g.A,{style:{width:"calc(100% - 80px)"},children:(0,S.jsx)(a.A,{justify:"start",children:(0,S.jsxs)(g.A,{span:24,children:[(0,S.jsxs)(a.A,{justify:"space-between",children:[(0,S.jsx)(E.A,{active:!0,loading:void 0===y&&Je,paragraph:{rows:1,width:100},style:{marginTop:-10,marginBottom:-9,width:100},title:!1,children:(0,S.jsx)(H,{strong:!0,href:`https://njump.me/${null===e||void 0===e?void 0:e.author.npub}`,target:"_blank",children:p})}),(0,S.jsx)(z,{strong:!0,children:je("shared.events.published_at",{date:(0,B.m)((0,x.S)(null!==(t=e.created_at)&&void 0!==t?t:0),{addSuffix:!0})})})]}),(0,S.jsx)(a.A,{justify:"end",children:(0,S.jsx)(Q.Ay,{type:"link",onClick:()=>Fe(e),children:je("pages.topic.reply")})})]})})})]}),(0,S.jsx)(u.A,{}),(0,S.jsx)(a.A,{children:(0,S.jsxs)(g.A,{span:24,children:[m&&(0,S.jsx)(v.Ay,{style:{background:pe,padding:25,marginBottom:10,borderLeftColor:ke,borderLeftWidth:5,borderLeftStyle:"solid"},children:(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{children:(0,S.jsx)(R,{text:m.content,loadingAuthors:Je,dTag:null===fe||void 0===fe||null===(r=fe.dTag)||void 0===r?void 0:r.toString()})})})}),(0,S.jsx)(R,{text:null!==(c=e.content)&&void 0!==c?c:"",loadingAuthors:Je,dTag:null===fe||void 0===fe||null===(j=fe.dTag)||void 0===j?void 0:j.toString()})]})})]})})})},A)}))})}),(0,S.jsx)(g.A,{span:"24",children:(0,S.jsx)(v.Ay,{style:{background:Be,padding:"15px 0"},children:(0,S.jsxs)(a.A,{justify:"space-around",gutter:[0,10],children:[(0,S.jsx)(g.A,{span:"22",children:(0,S.jsx)(a.A,{children:Me&&(0,S.jsxs)(v.Ay,{style:{background:pe,padding:25,marginBottom:10,borderLeftColor:ke,borderLeftWidth:5,borderLeftStyle:"solid"},children:[(0,S.jsx)(a.A,{children:(0,S.jsx)(g.A,{children:(0,S.jsx)(R,{text:Me.content,loadingAuthors:Je,dTag:null===fe||void 0===fe?void 0:fe.dTag})})}),(0,S.jsx)(a.A,{justify:"end",children:(0,S.jsx)(g.A,{style:{position:"relative"},children:(0,S.jsx)(Q.Ay,{type:"link",onClick:()=>Fe(void 0),children:je("pages.topic.removeReply")})})})]})})}),(0,S.jsx)(g.A,{span:"22",children:(0,S.jsx)(a.A,{children:(0,S.jsx)(w.A,{rows:6,content:ze,onChange:e=>He(e.target.value)})})}),(0,S.jsx)(g.A,{span:"22",children:(0,S.jsx)(a.A,{justify:"end",children:(0,S.jsx)(Q.Ay,{onClick:async()=>{const e=null===fe||void 0===fe?void 0:fe.dTag;if(fe&&e&&Qe&&ze&&""!==ze){const A=new i.QB(oe);A.kind=1,A.content=ze,A.tags.push(fe.tagReference()),fe.tags.forEach((e=>{"a"===e[0]&&A.tags.push(e)})),me&&A.tags.push(["a",me.tagReference()[1]]),Me&&Me.referenceTags().forEach((e=>A.tags.push(e))),A.publish(Pe()).then((n=>{n&&ae({[e]:[A]}),Fe(void 0),He("")}))}},disabled:!ze||""===ze,type:"primary",htmlType:"submit",size:"large",icon:(0,S.jsx)(s.A,{}),iconPosition:"end",children:je("pages.topic.createComment")})})})]})})})]})}),(0,S.jsx)(g.A,{xs:0,md:7,children:(0,S.jsxs)(a.A,{gutter:[0,10],children:[(0,S.jsx)(g.A,{span:24,children:(0,S.jsx)(T.G,{})}),(0,S.jsx)(g.A,{span:24,children:(0,S.jsx)(U.O,{})})]})})]})})}}}]);
//# sourceMappingURL=818.6bde5cec.chunk.js.map